--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
|timestamp|message|
|---------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 1763860793898 | INIT_START Runtime Version: nodejs:20.v88 Runtime Version ARN: arn:aws:lambda:us-west-2::runtime:26542ea3142318478ea6cfff7fbd6935faf657456a07dc7a3c1b59097d0d00be|
| 1763860794502 | 2025-11-23T01:19:54.502Z undefined INFO üîß PINECONE_API_KEY validation: {exists: true,length: 75,isPlaceholder: false,prefix: 'pcsk_4tHp6N_' }|
| 1763860794574 | 2025-11-23T01:19:54.574Z undefined INFO üîß awslambda global available: true|
| 1763860794574 | 2025-11-23T01:19:54.574Z undefined INFO üîß streamifyResponse available: true|
| 1763860794574 | 2025-11-23T01:19:54.574Z undefined INFO ‚úÖ Using awslambda.streamifyResponse for streaming mode|
| 1763860794582 | START RequestId: c733215d-b330-44ad-97c3-001ed6befe0e Version: $LATEST|
| 1763860794589 | 2025-11-23T01:19:54.589Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üöÄ Processing streaming request: {method: 'POST',path: '/users/63gocaz-j-AYRsb0094ik/coaches/user_63gocaz-j-AYRsb0094ik_coach_1756078034317/conversations/conv_1763761119267_ek3vk5fw0/stream' }|
| 1763860794589 | 2025-11-23T01:19:54.589Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üîç withStreamingAuth received event: {rawPath: '/users/63gocaz-j-AYRsb0094ik/coaches/user_63gocaz-j-AYRsb0094ik_coach_1756078034317/conversations/conv_1763761119267_ek3vk5fw0/stream',method: 'POST',hasHeaders: true,headerKeys: ['sec-fetch-mode','referer','content-length','x-amzn-tls-version','sec-fetch-site','x-forwarded-proto','accept-language','origin','x-forwarded-port','x-forwarded-for','accept','authorization','x-amzn-tls-cipher-suite','sec-ch-ua','x-amzn-trace-id','sec-ch-ua-mobile','sec-ch-ua-platform','host','content-type','cache-control','accept-encoding','user-agent','sec-fetch-dest'] }|
| 1763860794591 | 2025-11-23T01:19:54.591Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üîç Extracting path parameters: {rawPath: '/users/63gocaz-j-AYRsb0094ik/coaches/user_63gocaz-j-AYRsb0094ik_coach_1756078034317/conversations/conv_1763761119267_ek3vk5fw0/stream',pathParts: ['users','63gocaz-j-AYRsb0094ik','coaches','user_63gocaz-j-AYRsb0094ik_coach_1756078034317','conversations','conv_1763761119267_ek3vk5fw0','stream'],length: 7,routePattern: 'users/{userId}/coaches/{coachId}/conversations/{conversationId}/stream' }|
| 1763860794592 | 2025-11-23T01:19:54.592Z c733215d-b330-44ad-97c3-001ed6befe0e INFO ‚úÖ Streaming authentication successful: {userId: '63gocaz-j-AYRsb0094ik',pathUserId: '63gocaz-j-AYRsb0094ik',username: 'm3kan1cal' }|
| 1763860794592 | 2025-11-23T01:19:54.592Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üöÄ Starting stream-coach-conversation handler (Proper Pipeline Mode)|
| 1763860794592 | 2025-11-23T01:19:54.592Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üì• Event details: {rawPath: '/users/63gocaz-j-AYRsb0094ik/coaches/user_63gocaz-j-AYRsb0094ik_coach_1756078034317/conversations/conv_1763761119267_ek3vk5fw0/stream',method: 'POST',hasBody: true,authenticatedUser: '63gocaz-j-AYRsb0094ik' }|
| 1763860794598 | 2025-11-23T01:19:54.598Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üì° Yielded start event immediately|
| 1763860794599 | 2025-11-23T01:19:54.599Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üì° Yielded coach acknowledgment (contextual): "Let's tackle this."|
| 1763860794599 | 2025-11-23T01:19:54.599Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üîç Extracting path parameters: {rawPath: '/users/63gocaz-j-AYRsb0094ik/coaches/user_63gocaz-j-AYRsb0094ik_coach_1756078034317/conversations/conv_1763761119267_ek3vk5fw0/stream',pathParts: ['users','63gocaz-j-AYRsb0094ik','coaches','user_63gocaz-j-AYRsb0094ik_coach_1756078034317','conversations','conv_1763761119267_ek3vk5fw0','stream'],length: 7,routePattern: 'users/{userId}/coaches/{coachId}/conversations/{conversationId}/stream' }|
| 1763860794600 | 2025-11-23T01:19:54.600Z c733215d-b330-44ad-97c3-001ed6befe0e INFO ‚úÖ Path parameters validated: {userId: '63gocaz-j-AYRsb0094ik',coachId: 'user_63gocaz-j-AYRsb0094ik_coach_1756078034317',conversationId: 'conv_1763761119267_ek3vk5fw0' }|
| 1763860794600 | 2025-11-23T01:19:54.600Z c733215d-b330-44ad-97c3-001ed6befe0e INFO ‚úÖ Request body validated: {hasUserResponse: true,hasMessageTimestamp: true,userResponseLength: 244,imageCount: 1 }|
| 1763860794600 | 2025-11-23T01:19:54.600Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üîÑ Attempting Load user from DynamoDB (attempt 1/6)|
| 1763860794695 | 2025-11-23T01:19:54.695Z c733215d-b330-44ad-97c3-001ed6befe0e INFO user data loaded from DynamoDB successfully|
| 1763860794696 | 2025-11-23T01:19:54.696Z c733215d-b330-44ad-97c3-001ed6befe0e INFO ‚úÖ User profile loaded for smart router: {hasProfile: true,timezone: 'America/New_York',hasCriticalDirective: true }|
| 1763860794696 | 2025-11-23T01:19:54.696Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üöÄ Starting parallel data loading: Router + Conversation + Config|
| 1763860794724 | 2025-11-23T01:19:54.724Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üß† Smart Router analyzing request capabilities: {messageLength: 244,hasContext: false,conversationLength: 0,hasTimezone: true,timezone: 'America/New_York',hasCriticalDirective: true }|
| 1763860794725 | 2025-11-23T01:19:54.725Z c733215d-b330-44ad-97c3-001ed6befe0e INFO === BEDROCK API CALL START ===|
| 1763860794725 | 2025-11-23T01:19:54.725Z c733215d-b330-44ad-97c3-001ed6befe0e INFO AWS Region: us-west-2|
| 1763860794725 | 2025-11-23T01:19:54.725Z c733215d-b330-44ad-97c3-001ed6befe0e INFO Model ID: us.anthropic.claude-haiku-4-5-20251001-v1:0|
| 1763860794725 | 2025-11-23T01:19:54.725Z c733215d-b330-44ad-97c3-001ed6befe0e INFO System prompt length: 18068|
| 1763860794725 | 2025-11-23T01:19:54.725Z c733215d-b330-44ad-97c3-001ed6befe0e INFO User message length: 373|
| 1763860794725 | 2025-11-23T01:19:54.725Z c733215d-b330-44ad-97c3-001ed6befe0e INFO Thinking enabled: false|
| 1763860794726 | 2025-11-23T01:19:54.726Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üîÑ Attempting Load coachConversation from DynamoDB (attempt 1/6)|
| 1763860794726 | 2025-11-23T01:19:54.726Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üîÑ Attempting Load coachConfig from DynamoDB (attempt 1/6)|
| 1763860794727 | 2025-11-23T01:19:54.727Z c733215d-b330-44ad-97c3-001ed6befe0e INFO Bedrock client config: { region: 'us-west-2' }|
| 1763860794727 | 2025-11-23T01:19:54.727Z c733215d-b330-44ad-97c3-001ed6befe0e INFO Environment variables: {AWS_REGION: 'us-west-2',AWS_DEFAULT_REGION: 'us-west-2',AWS_LAMBDA_FUNCTION_NAME: 'amplify-neonpandaprotov1--streamcoachconversationl-YrHSi4Ltryf1' }|
| 1763860794727 | 2025-11-23T01:19:54.727Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üéØ Response prefilling enabled: {|
| 1763860794727 | 2025-11-23T01:19:54.727Z c733215d-b330-44ad-97c3-001ed6befe0e INFO Converse command created successfully..|
| 1763860794727 | 2025-11-23T01:19:54.727Z c733215d-b330-44ad-97c3-001ed6befe0e INFO About to call bedrockClient.send()...|
| 1763860794727 | 2025-11-23T01:19:54.727Z c733215d-b330-44ad-97c3-001ed6befe0e INFO Starting Bedrock API call with 60s timeout..|
| 1763860794756 | 2025-11-23T01:19:54.756Z c733215d-b330-44ad-97c3-001ed6befe0e INFO coachConversation data loaded from DynamoDB successfully|
| 1763860794795 | 2025-11-23T01:19:54.795Z c733215d-b330-44ad-97c3-001ed6befe0e INFO coachConfig data loaded from DynamoDB successfully|
| 1763860799257 | 2025-11-23T01:19:59.257Z c733215d-b330-44ad-97c3-001ed6befe0e INFO bedrockClient.send() completed successfully|
| 1763860799257 | 2025-11-23T01:19:59.257Z c733215d-b330-44ad-97c3-001ed6befe0e INFO Response received from Bedrock|
| 1763860799257 | 2025-11-23T01:19:59.257Z c733215d-b330-44ad-97c3-001ed6befe0e INFO Response metadata: {httpStatusCode: 200,requestId: '1dea2fda-8d54-4746-8e28-8717fd97c312',extendedRequestId: undefined,cfId: undefined,attempts: 1,totalRetryDelay: 0 }|
| 1763860799257 | 2025-11-23T01:19:59.257Z c733215d-b330-44ad-97c3-001ed6befe0e INFO Response structure: {hasOutput: true,hasMessage: true,hasContent: true,contentLength: 1,hasText: true,textType: 'string',contentFirstItem: {text: '\n' +'"userIntent": "workout_logging",\n' +'"showContextualUpdates": true,\n' +'"workoutDetection": {\n' +'"isWorkoutLog": true,\n' +'"confidence": 0.95,\n' +'"workoutType": "general",\n' +`"reasoning": "Clear past-tense completion ('I completed today'), specific time window (3:30pm-4pm ET), explicit logging intent ('I'm logging it again'), and workout details (intensity/RPE/fun metrics). Image attachment contains specific workout content."\n` +'},\n' +'"memoryProcessing": {\n' +'"needsRetrieval": false,\n' +'"isMemoryRequest": false,\n' +'"memoryCharacteristics": null,\n' +'"reasoning": "This is a workout log, not a memory request. Workout data belongs in workout logging system (Pinecone/DynamoDB), not memory storage."\n' +'},\n' +'"contextNeeds": {\n' +'"needsPineconeSearch": false,\n' +'"searchTypes": [],\n' +'"reasoning": "No need for historical context. User is logging a new workout with self-contained details. No performance comparison, methodology questions, or pattern analysis requested."\n' +'},\n' +'"conversationComplexity": {\n' +'"hasComplexity": false,\n' +'"complexityTypes": [],\n' +'"needsSummary": false,\n' +'"requiresDeepReasoning": false,\n' +'"confidence": 0.92,\n' +'"reasoning": "Straightforward workout logging with subjective metrics. No emotional complexity, goal discussion, or coaching decisions needed. Simple data entry scenario."\n' +'},\n' +'"processingPriority": {\n' +'"workoutFirst": true,\n' +'"memoryFirst": false,\n' +'"contextFirst": false\n' +'},\n' +'"routerMetadata": {\n' +'"confidence": 0.93,\n' +'"processingTime": null,\n' +'"fallbackUsed": false\n' +'}\n' +'}'} }|
| 1763860799257 | 2025-11-23T01:19:59.257Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üéØ Prepended prefill text to response: { prefillText: '{', originalLength: 1552, newLength: 1553 }|
| 1763860799257 | 2025-11-23T01:19:59.257Z c733215d-b330-44ad-97c3-001ed6befe0e INFO Successfully extracted response text, length: 1553|
| 1763860799257 | 2025-11-23T01:19:59.257Z c733215d-b330-44ad-97c3-001ed6befe0e INFO === BEDROCK API CALL SUCCESS ===|
| 1763860799258 | 2025-11-23T01:19:59.258Z c733215d-b330-44ad-97c3-001ed6befe0e INFO ‚úÖ Smart Router analysis completed: {userIntent: 'workout_logging',showContextualUpdates: true,isWorkoutLog: true,needsMemoryRetrieval: false,needsPineconeSearch: false,hasComplexity: false,requiresDeepReasoning: false,processingTime: 4562,confidence: 0.93 }|
| 1763860799258 | 2025-11-23T01:19:59.258Z c733215d-b330-44ad-97c3-001ed6befe0e INFO ‚úÖ Parallel data loading completed in 4562ms|
| 1763860799258 | 2025-11-23T01:19:59.258Z c733215d-b330-44ad-97c3-001ed6befe0e INFO ‚è≠Ô∏è Router skipped Pinecone - loading basic context only|
| 1763860799259 | 2025-11-23T01:19:59.259Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üîÑ Attempting Query workout from DynamoDB (attempt 1/6)|
| 1763860799615 | 2025-11-23T01:19:59.615Z c733215d-b330-44ad-97c3-001ed6befe0e INFO workout data queried from DynamoDB successfully|
| 1763860799674 | 2025-11-23T01:19:59.674Z c733215d-b330-44ad-97c3-001ed6befe0e INFO Workouts queried successfully: {userId: '63gocaz-j-AYRsb0094ik',totalFound: 103,afterFiltering: 14,filters: { limit: 14, sortBy: 'completedAt', sortOrder: 'desc' } }|
| 1763860799674 | 2025-11-23T01:19:59.674Z c733215d-b330-44ad-97c3-001ed6befe0e INFO Loaded recent workouts for context: {userId: '63gocaz-j-AYRsb0094ik',workoutCount: 14,summaries: ['Completed "Fortis Cursus" - a 10-minute AMRAP of 1...','Completed Hero WOD "Murph" Rx with 20# vest in 52:...','Completed Fortis Endura - a 10-minute AMRAP of 20 ...','Completed Mortis Viginti - a 20-minute EMOM with 1...','Completed "Fortis Ascensus" - a hybrid strength an...','Completed Tempestus Fortis - a 10-round interval w...','Completed "Tempestus Triplex" - a 15-minute AMRAP ...','Completed Fortis Crura powerlifting session with b...','Completed Ventus Brevis 8-minute AMRAP (dumbbell t...','Completed Magnus Scapula as prescribed in 17 minut...','Completed Impetus Potentia powerlifting session wi...','Completed Ferrum Rapidus (3 rounds of 400m row, 20...','Completed Vigor Tractus (upper body pulling streng...','Completed "Mortis Posterior" powerlifting session ...'] }|
| 1763860799675 | 2025-11-23T01:19:59.675Z c733215d-b330-44ad-97c3-001ed6befe0e INFO ‚è≠Ô∏è Skipping Pinecone query - message does not require semantic search|
| 1763860799675 | 2025-11-23T01:19:59.675Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üß† Smart Router Analysis: {userIntent: 'workout_logging',showContextualUpdates: true,isWorkoutLog: true,needsMemoryRetrieval: false,needsPineconeSearch: false,pineconeSearchUsed: false,hasComplexity: false,processingTime: 4562,fallbackUsed: false }|
| 1763860799675 | 2025-11-23T01:19:59.675Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üöÄ Generating initial acknowledgment (router-approved)...|
| 1763860799675 | 2025-11-23T01:19:59.675Z c733215d-b330-44ad-97c3-001ed6befe0e INFO === BEDROCK API CALL START ===|
| 1763860799675 | 2025-11-23T01:19:59.675Z c733215d-b330-44ad-97c3-001ed6befe0e INFO AWS Region: us-west-2|
| 1763860799675 | 2025-11-23T01:19:59.675Z c733215d-b330-44ad-97c3-001ed6befe0e INFO Model ID: us.amazon.nova-micro-v1:0|
| 1763860799675 | 2025-11-23T01:19:59.675Z c733215d-b330-44ad-97c3-001ed6befe0e INFO System prompt length: 1460|
| 1763860799675 | 2025-11-23T01:19:59.675Z c733215d-b330-44ad-97c3-001ed6befe0e INFO User message length: 445|
| 1763860799675 | 2025-11-23T01:19:59.675Z c733215d-b330-44ad-97c3-001ed6befe0e INFO Thinking enabled: false|
| 1763860799676 | 2025-11-23T01:19:59.676Z c733215d-b330-44ad-97c3-001ed6befe0e INFO Bedrock client config: { region: 'us-west-2' }|
| 1763860799676 | 2025-11-23T01:19:59.676Z c733215d-b330-44ad-97c3-001ed6befe0e INFO Environment variables: {AWS_REGION: 'us-west-2',AWS_DEFAULT_REGION: 'us-west-2',AWS_LAMBDA_FUNCTION_NAME: 'amplify-neonpandaprotov1--streamcoachconversationl-YrHSi4Ltryf1' }|
| 1763860799676 | 2025-11-23T01:19:59.676Z c733215d-b330-44ad-97c3-001ed6befe0e INFO Converse command created successfully..|
| 1763860799676 | 2025-11-23T01:19:59.676Z c733215d-b330-44ad-97c3-001ed6befe0e INFO About to call bedrockClient.send()...|
| 1763860799676 | 2025-11-23T01:19:59.676Z c733215d-b330-44ad-97c3-001ed6befe0e INFO Starting Bedrock API call with 60s timeout..|
| 1763860800056 | 2025-11-23T01:20:00.056Z c733215d-b330-44ad-97c3-001ed6befe0e INFO bedrockClient.send() completed successfully|
| 1763860800056 | 2025-11-23T01:20:00.056Z c733215d-b330-44ad-97c3-001ed6befe0e INFO Response received from Bedrock|
| 1763860800056 | 2025-11-23T01:20:00.056Z c733215d-b330-44ad-97c3-001ed6befe0e INFO Response metadata: {httpStatusCode: 200,requestId: '2dd77b0a-e0d9-4247-a31c-91b359b39508',extendedRequestId: undefined,cfId: undefined,attempts: 1,totalRetryDelay: 0 }|
| 1763860800056 | 2025-11-23T01:20:00.056Z c733215d-b330-44ad-97c3-001ed6befe0e INFO Response structure: {hasOutput: true,hasMessage: true,hasContent: true,contentLength: 1,hasText: true,textType: 'string',contentFirstItem: { text: 'Brewing up your workout log magic!' } }|
| 1763860800056 | 2025-11-23T01:20:00.056Z c733215d-b330-44ad-97c3-001ed6befe0e INFO Successfully extracted response text, length: 34|
| 1763860800056 | 2025-11-23T01:20:00.056Z c733215d-b330-44ad-97c3-001ed6befe0e INFO === BEDROCK API CALL SUCCESS ===|
| 1763860800056 | 2025-11-23T01:20:00.056Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üì° Initial acknowledgment ready|
| 1763860800056 | 2025-11-23T01:20:00.056Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üìä Processing plan: workout=true, memory=false|
| 1763860800056 | 2025-11-23T01:20:00.056Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üèãÔ∏è Processing workout only|
| 1763860800056 | 2025-11-23T01:20:00.056Z c733215d-b330-44ad-97c3-001ed6befe0e INFO === BEDROCK API CALL START ===|
| 1763860800056 | 2025-11-23T01:20:00.056Z c733215d-b330-44ad-97c3-001ed6befe0e INFO AWS Region: us-west-2|
| 1763860800056 | 2025-11-23T01:20:00.056Z c733215d-b330-44ad-97c3-001ed6befe0e INFO Model ID: us.amazon.nova-micro-v1:0|
| 1763860800056 | 2025-11-23T01:20:00.056Z c733215d-b330-44ad-97c3-001ed6befe0e INFO System prompt length: 1460|
| 1763860800056 | 2025-11-23T01:20:00.056Z c733215d-b330-44ad-97c3-001ed6befe0e INFO User message length: 479|
| 1763860800056 | 2025-11-23T01:20:00.056Z c733215d-b330-44ad-97c3-001ed6befe0e INFO Thinking enabled: false|
| 1763860800056 | 2025-11-23T01:20:00.056Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üîç Starting workout detection for message|
| 1763860800057 | 2025-11-23T01:20:00.057Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üîç parseSlashCommand: Regex match result: {messageStart: "I'm not sure why but the workout didn't save so I'",hasMatch: false,matchGroups: 0 }|
| 1763860800057 | 2025-11-23T01:20:00.057Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üîç Slash command parsing result: {userMessage: "I'm not sure why but the workout didn't save so I'm logging it again. I want to log a workout that I",isSlashCommand: false,command: undefined,content: undefined }|
| 1763860800057 | 2025-11-23T01:20:00.057Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üîç isWorkoutSlashCommand: Check result: {isSlashCommand: false,command: undefined,supportedCommands: [ 'log-workout' ],isSupported: false,finalResult: false }|
| 1763860800057 | 2025-11-23T01:20:00.057Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üîç Slash command workout check: {isSlashCommandWorkout: false,supportedCommands: [ 'log-workout' ],detectedCommand: undefined }|
| 1763860800058 | 2025-11-23T01:20:00.058Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üîç Natural language workout check (using Smart Router result): {isNaturalLanguageWorkout: true,confidence: 0.95,reasoning: "Clear past-tense completion ('I completed today'), specific time window (3:30pm-4pm ET), explicit logging intent ('I'm logging it again'), and workout details (intensity/RPE/fun metrics). Image attachment contains specific workout content.",source: 'smart_router' }|
| 1763860800058 | 2025-11-23T01:20:00.058Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üîç Final workout detection result: {isWorkoutLogging: true,isSlashCommandWorkout: false,isNaturalLanguageWorkout: true }|
| 1763860800058 | 2025-11-23T01:20:00.058Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üèãÔ∏è WORKOUT DETECTED: {userId: '63gocaz-j-AYRsb0094ik',coachId: 'user_63gocaz-j-AYRsb0094ik_coach_1756078034317',conversationId: 'conv_1763761119267_ek3vk5fw0',userMessage: "I'm not sure why but the workout didn't save so I'm logging it again. I want to log a workout that I completed today on 11/22/2025 from 3:30pm - 4pm ET. I did the workout that is attached in the image. It was 7/10 intensity, 8/10 RPE, 8/10 fun.",detectionType: 'natural_language',slashCommand: null,sessionNumber: 7,coachName: 'Victoria The Masters Champion',timestamp: '2025-11-23T01:20:00.058Z' }|
| 1763860800058 | 2025-11-23T01:20:00.058Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üîç Validating workout content for performance data.. {contentLength: 244,contentPreview: "I'm not sure why but the workout didn't save so I'm logging it again. I want to log a workout that I",detectionType: 'natural_language',hasImages: true,imageCount: 1 }|
| 1763860800058 | 2025-11-23T01:20:00.058Z c733215d-b330-44ad-97c3-001ed6befe0e INFO ‚úÖ Images detected - skipping text performance validation: {imageCount: 1,contentPreview: "I'm not sure why but the workout didn't save so I'm logging it again. I want to log a workout that I" }|
| 1763860800058 | 2025-11-23T01:20:00.058Z c733215d-b330-44ad-97c3-001ed6befe0e INFO Bedrock client config: { region: 'us-west-2' }|
| 1763860800058 | 2025-11-23T01:20:00.058Z c733215d-b330-44ad-97c3-001ed6befe0e INFO Environment variables: {AWS_REGION: 'us-west-2',AWS_DEFAULT_REGION: 'us-west-2',AWS_LAMBDA_FUNCTION_NAME: 'amplify-neonpandaprotov1--streamcoachconversationl-YrHSi4Ltryf1' }|
| 1763860800058 | 2025-11-23T01:20:00.058Z c733215d-b330-44ad-97c3-001ed6befe0e INFO Converse command created successfully..|
| 1763860800058 | 2025-11-23T01:20:00.058Z c733215d-b330-44ad-97c3-001ed6befe0e INFO About to call bedrockClient.send()...|
| 1763860800058 | 2025-11-23T01:20:00.058Z c733215d-b330-44ad-97c3-001ed6befe0e INFO Starting Bedrock API call with 60s timeout..|
| 1763860800059 | 2025-11-23T01:20:00.059Z c733215d-b330-44ad-97c3-001ed6befe0e INFO ‚úÖ Workout content validation passed - performance data detected {confidence: 0.95,reasoning: 'User provided 1 image(s) which may contain workout performance data (whiteboard, workout log, etc.). Skipping text-based validation and allowing extraction to process images.' }|
| 1763860800059 | 2025-11-23T01:20:00.059Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üöÄ Triggering async Lambda invocation for workout extraction: {functionName: 'amplify-neonpandaprotov1--buildworkoutlambda23D1E4-KFUp94ybUR20',payloadKeys: ['userId','coachId','conversationId','userMessage','coachConfig','isSlashCommand','slashCommand','messageTimestamp','userTimezone','criticalTrainingDirective','imageS3Keys'],context: 'workout extraction' }|
| 1763860800134 | 2025-11-23T01:20:00.134Z c733215d-b330-44ad-97c3-001ed6befe0e INFO ‚úÖ Successfully triggered async Lambda for workout extraction: {functionName: 'amplify-neonpandaprotov1--buildworkoutlambda23D1E4-KFUp94ybUR20',payloadSize: 11810 }|
| 1763860800363 | 2025-11-23T01:20:00.363Z c733215d-b330-44ad-97c3-001ed6befe0e INFO bedrockClient.send() completed successfully|
| 1763860800363 | 2025-11-23T01:20:00.363Z c733215d-b330-44ad-97c3-001ed6befe0e INFO Response received from Bedrock|
| 1763860800363 | 2025-11-23T01:20:00.363Z c733215d-b330-44ad-97c3-001ed6befe0e INFO Response metadata: {httpStatusCode: 200,requestId: 'c511bf1a-f0a7-4cdb-9022-5d9765aea231',extendedRequestId: undefined,cfId: undefined,attempts: 1,totalRetryDelay: 0 }|
| 1763860800363 | 2025-11-23T01:20:00.363Z c733215d-b330-44ad-97c3-001ed6befe0e INFO Response structure: {hasOutput: true,hasMessage: true,hasContent: true,contentLength: 1,hasText: true,textType: 'string',contentFirstItem: {text: 'Diving deep into your workout history to uncover the secrets of your progress!'} }|
| 1763860800364 | 2025-11-23T01:20:00.364Z c733215d-b330-44ad-97c3-001ed6befe0e INFO Successfully extracted response text, length: 78|
| 1763860800364 | 2025-11-23T01:20:00.364Z c733215d-b330-44ad-97c3-001ed6befe0e INFO === BEDROCK API CALL SUCCESS ===|
| 1763860800364 | 2025-11-23T01:20:00.364Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üìù Contextual updates streamed but not saved (2 updates, ephemeral UX only)|
| 1763860800364 | 2025-11-23T01:20:00.364Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üöÄ Starting REAL-TIME AI streaming..|
| 1763860800368 | 2025-11-23T01:20:00.368Z c733215d-b330-44ad-97c3-001ed6befe0e INFO Generated system prompt preview for streaming: {coachName: 'Victoria The Masters Champion',personality: 'victoria',methodology: 'BLOCK_PERIODIZATION',safetyConstraints: 1,estimatedLength: 8524,keyFeatures: ['Blended personality (victoria + marcus)','expert level adaptation','masters_crossfit_competition + heavy_lifting_development + strength_maintenance + recovery_optimization + age_group_excellence focus','Specializes in: masters_crossfit_competition, heavy_functional_lifting, olympic_lifting_masters, powerlifting_integration, crossfit_strength_development, advanced_periodization, performance_optimization, age_group_excellence, strength_focused_training'],dataRichness: ['Detailed user background available','Equipment context: crossfit_gym, olympic_lifting_platform, powerlifting_equipment, gymnastics_equipment, competition_equipment, heavy_lifting_implements, recovery_tools, performance_monitoring, specialized_barbells, masters_specific_equipment','Time constraints: 75','Intensity preference: high_intelligent'],conversationContext: { sessionNumber: 7 },promptLength: 23094,coachId: 'user_63gocaz-j-AYRsb0094ik_coach_1756078034317',hasPineconeContext: false,pineconeMatches: 0 }|
| 1763860800476 | 2025-11-23T01:20:00.476Z c733215d-b330-44ad-97c3-001ed6befe0e INFO Successfully stored debug data in S3: {bucket: 'midgard-sandbox-logs',key: 'sandbox-abb89311/coach-conversation/2025-11-23T01-20-00-368Z_63gocaz-j-AYRsb0094ik_coach-conversation-prompt-stream.txt',contentLength: 23094,metadataKeys: ['userId','coachId','conversationId','coachName','userMessage','sessionNumber','totalPromptLength','totalPromptSizeKB','basePromptLength','basePromptSizeKB','conversationHistoryLength','conversationHistorySizeKB','pineconeContextLength','pineconeContextSizeKB','hasImages','imageCount','hasWorkoutContext','recentWorkoutsCount','workoutDetected','hasPineconeContext','pineconeMatches','hasMemories','memoriesCount','messageCount','hasCriticalDirective','userTimezone','type'] }|
| 1763860800476 | 2025-11-23T01:20:00.476Z c733215d-b330-44ad-97c3-001ed6befe0e INFO ‚úÖ System prompt stored in S3 for debug/monitoring: {location: 's3://midgard-sandbox-logs/sandbox-abb89311/coach-conversation/2025-11-23T01-20-00-368Z_63gocaz-j-AYRsb0094ik_coach-conversation-prompt-stream.txt',totalSizeKB: '22.55',baseSizeKB: '22.55',historySizeKB: '0.00',pineconeContextKB: '0.00',components: {base: '22.55KB',history: '0.00KB',pinecone: '0.00KB',total: '22.55KB'} }|
| 1763860800476 | 2025-11-23T01:20:00.476Z c733215d-b330-44ad-97c3-001ed6befe0e INFO ü§ñ Model selection: HAIKU 4.5 (requiresDeepReasoning=false)|
| 1763860800650 | 2025-11-23T01:20:00.650Z c733215d-b330-44ad-97c3-001ed6befe0e INFO ‚úÖ Built multimodal content: 13 messages, 2 with images|
| 1763860800651 | 2025-11-23T01:20:00.651Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üñºÔ∏è Using multimodal Converse Stream API with images {messageCount: 13,imagesCount: 1,model: 'us.anthropic.claude-haiku-4-5-20251001-v1:0' }|
| 1763860800651 | 2025-11-23T01:20:00.651Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üî• CACHE OPTIMIZATION: Using static/dynamic prompt structure|
| 1763860800651 | 2025-11-23T01:20:00.651Z c733215d-b330-44ad-97c3-001ed6befe0e INFO Static prompt size: 16.73 KB|
| 1763860800651 | 2025-11-23T01:20:00.651Z c733215d-b330-44ad-97c3-001ed6befe0e INFO Dynamic prompt size: 5.81 KB|
| 1763860800651 | 2025-11-23T01:20:00.651Z c733215d-b330-44ad-97c3-001ed6befe0e INFO === BEDROCK MULTIMODAL STREAMING API CALL START ===|
| 1763860800651 | 2025-11-23T01:20:00.651Z c733215d-b330-44ad-97c3-001ed6befe0e INFO AWS Region: us-west-2|
| 1763860800652 | 2025-11-23T01:20:00.652Z c733215d-b330-44ad-97c3-001ed6befe0e INFO Model ID: us.anthropic.claude-haiku-4-5-20251001-v1:0|
| 1763860800652 | 2025-11-23T01:20:00.652Z c733215d-b330-44ad-97c3-001ed6befe0e INFO System prompt length: 23094|
| 1763860800652 | 2025-11-23T01:20:00.652Z c733215d-b330-44ad-97c3-001ed6befe0e INFO Messages count: 13|
| 1763860800652 | 2025-11-23T01:20:00.652Z c733215d-b330-44ad-97c3-001ed6befe0e INFO Thinking enabled: false|
| 1763860800652 | 2025-11-23T01:20:00.652Z c733215d-b330-44ad-97c3-001ed6befe0e INFO Has images: true|
| 1763860800652 | 2025-11-23T01:20:00.652Z c733215d-b330-44ad-97c3-001ed6befe0e INFO Multimodal converse stream command created successfully..|
| 1763860803590 | 2025-11-23T01:20:03.590Z c733215d-b330-44ad-97c3-001ed6befe0e INFO Stream response received from Bedrock|
| 1763860803737 | 2025-11-23T01:20:03.737Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üì° [147ms] Optimized AI chunk yielded: "Got it logged for you now.**..." (30 chars)|
| 1763860803738 | 2025-11-23T01:20:03.738Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üì° Optimized chunk #3 flushed: "Got it logged for you now.**..." (30 chars)|
| 1763860803972 | 2025-11-23T01:20:03.972Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üì° [381ms] Optimized AI chunk yielded: "Fortis Scapula - November 22, ..." (34 chars)|
| 1763860803972 | 2025-11-23T01:20:03.972Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üì° Optimized chunk #6 flushed: "Fortis Scapula - November 22, ..." (34 chars)|
| 1763860804372 | 2025-11-23T01:20:04.372Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üì° [782ms] Optimized AI chunk yielded: "** - 5 rounds:- 10 push pre..." (45 chars)|
| 1763860804372 | 2025-11-23T01:20:04.372Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üì° Optimized chunk #12 flushed: "** - 5 rounds:- 10 push pre..." (45 chars)|
| 1763860804730 | 2025-11-23T01:20:04.730Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üì° [1140ms] Optimized AI chunk yielded: " dips- 6 lunges (each leg) ..." (45 chars)|
| 1763860804730 | 2025-11-23T01:20:04.730Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üì° Optimized chunk #18 flushed: " dips- 6 lunges (each leg) ..." (45 chars)|
| 1763860804946 | 2025-11-23T01:20:04.946Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üì° [1356ms] Optimized AI chunk yielded: " hand- 30 dumbbell shoulder..." (50 chars)|
| 1763860804946 | 2025-11-23T01:20:04.946Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üì° Optimized chunk #21 flushed: " hand- 30 dumbbell shoulder..." (50 chars)|
| 1763860805161 | 2025-11-23T01:20:05.161Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üì° [1571ms] Optimized AI chunk yielded: ") - **Completed in 16:07**..." (26 chars)|
| 1763860805161 | 2025-11-23T01:20:05.161Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üì° Optimized chunk #25 flushed: ") - **Completed in 16:07**..." (26 chars)|
| 1763860805472 | 2025-11-23T01:20:05.472Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üì° [1882ms] Optimized AI chunk yielded: " - Intensity 7/10 | RPE 8/10 |..." (42 chars)|
| 1763860805472 | 2025-11-23T01:20:05.472Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üì° Optimized chunk #30 flushed: " - Intensity 7/10 | RPE 8/10 |..." (42 chars)|
| 1763860805631 | 2025-11-23T01:20:05.631Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üì° [2040ms] Optimized AI chunk yielded: "/10 - Session duration: 30 min..." (42 chars)|
| 1763860805631 | 2025-11-23T01:20:05.631Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üì° Optimized chunk #32 flushed: "/10 - Session duration: 30 min..." (42 chars)|
| 1763860805890 | 2025-11-23T01:20:05.890Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üì° [2300ms] Optimized AI chunk yielded: " is exactly the right move tod..." (59 chars)|
| 1763860805890 | 2025-11-23T01:20:05.890Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üì° Optimized chunk #34 flushed: " is exactly the right move tod..." (59 chars)|
| 1763860806154 | 2025-11-23T01:20:06.154Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üì° [2564ms] Optimized AI chunk yielded: "-focused work with moderate vo..." (62 chars)|
| 1763860806154 | 2025-11-23T01:20:06.154Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üì° Optimized chunk #37 flushed: "-focused work with moderate vo..." (62 chars)|
| 1763860806308 | 2025-11-23T01:20:06.308Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üì° [2718ms] Optimized AI chunk yielded: " Murph yesterday. You're keepi..." (32 chars)|
| 1763860806308 | 2025-11-23T01:20:06.308Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üì° Optimized chunk #39 flushed: " Murph yesterday. You're keepi..." (32 chars)|
| 1763860806438 | 2025-11-23T01:20:06.438Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üì° [2848ms] Optimized AI chunk yielded: " movement quality high without..." (42 chars)|
| 1763860806438 | 2025-11-23T01:20:06.438Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üì° Optimized chunk #40 flushed: " movement quality high without..." (42 chars)|
| 1763860806516 | 2025-11-23T01:20:06.516Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üì° [2926ms] Optimized AI chunk yielded: " fatigue, which is intelligent..." (30 chars)|
| 1763860806517 | 2025-11-23T01:20:06.517Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üì° Optimized chunk #41 flushed: " fatigue, which is intelligent..." (30 chars)|
| 1763860806665 | 2025-11-23T01:20:06.665Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üì° [3075ms] Optimized AI chunk yielded: " periodization.**Your week..." (28 chars)|
| 1763860806665 | 2025-11-23T01:20:06.665Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üì° Optimized chunk #42 flushed: " periodization.**Your week..." (28 chars)|
| 1763860806846 | 2025-11-23T01:20:06.846Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üì° [3256ms] Optimized AI chunk yielded: " structure is looking really s..." (54 chars)|
| 1763860806846 | 2025-11-23T01:20:06.846Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üì° Optimized chunk #44 flushed: " structure is looking really s..." (54 chars)|
| 1763860807197 | 2025-11-23T01:20:07.197Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üì° [3607ms] Optimized AI chunk yielded: "d a full accumulation block (1..." (40 chars)|
| 1763860807198 | 2025-11-23T01:20:07.198Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üì° Optimized chunk #47 flushed: "d a full accumulation block (1..." (40 chars)|
| 1763860807298 | 2025-11-23T01:20:07.298Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üì° [3708ms] Optimized AI chunk yielded: ") with significant volume, int..." (46 chars)|
| 1763860807298 | 2025-11-23T01:20:07.298Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üì° Optimized chunk #49 flushed: ") with significant volume, int..." (46 chars)|
| 1763860807479 | 2025-11-23T01:20:07.479Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üì° [3889ms] Optimized AI chunk yielded: " benchmark PR, then shifted to..." (33 chars)|
| 1763860807479 | 2025-11-23T01:20:07.479Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üì° Optimized chunk #50 flushed: " benchmark PR, then shifted to..." (33 chars)|
| 1763860807580 | 2025-11-23T01:20:07.580Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üì° [3990ms] Optimized AI chunk yielded: " to lighter shoulder stability..." (36 chars)|
| 1763860807580 | 2025-11-23T01:20:07.580Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üì° Optimized chunk #51 flushed: " to lighter shoulder stability..." (36 chars)|
| 1763860807786 | 2025-11-23T01:20:07.786Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üì° [4196ms] Optimized AI chunk yielded: " That's textbook smart trainin..." (51 chars)|
| 1763860807786 | 2025-11-23T01:20:07.786Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üì° Optimized chunk #53 flushed: " That's textbook smart trainin..." (51 chars)|
| 1763860807980 | 2025-11-23T01:20:07.980Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üì° [4390ms] Optimized AI chunk yielded: " consecutive training days**. ..." (46 chars)|
| 1763860807980 | 2025-11-23T01:20:07.980Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üì° Optimized chunk #55 flushed: " consecutive training days**. ..." (46 chars)|
| 1763860808238 | 2025-11-23T01:20:08.238Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üì° [4648ms] Optimized AI chunk yielded: ", 11/23) would be an ideal **f..." (51 chars)|
| 1763860808238 | 2025-11-23T01:20:08.238Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üì° Optimized chunk #58 flushed: ", 11/23) would be an ideal **f..." (51 chars)|
| 1763860808445 | 2025-11-23T01:20:08.445Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üì° [4855ms] Optimized AI chunk yielded: " very light movement only‚Äîyour..." (45 chars)|
| 1763860808445 | 2025-11-23T01:20:08.445Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üì° Optimized chunk #60 flushed: " very light movement only‚Äîyour..." (45 chars)|
| 1763860808728 | 2025-11-23T01:20:08.728Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üì° [5137ms] Optimized AI chunk yielded: " need it, and your adaptation ..." (55 chars)|
| 1763860808728 | 2025-11-23T01:20:08.728Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üì° Optimized chunk #62 flushed: " need it, and your adaptation ..." (55 chars)|
| 1763860808779 | 2025-11-23T01:20:08.779Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üì° [5189ms] Optimized AI chunk yielded: ", not during training.How..." (27 chars)|
| 1763860808779 | 2025-11-23T01:20:08.779Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üì° Optimized chunk #63 flushed: ", not during training.How..." (27 chars)|
| 1763860808855 | 2025-11-23T01:20:08.855Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üì° [5265ms] Optimized AI chunk yielded: " are you feeling overall headi..." (51 chars)|
| 1763860808856 | 2025-11-23T01:20:08.856Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üì° Optimized chunk #64 flushed: " are you feeling overall headi..." (51 chars)|
| 1763860808984 | 2025-11-23T01:20:08.984Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üì° [5394ms] Optimized AI chunk yielded: " soreness, joint feedback, or ..." (36 chars)|
| 1763860808984 | 2025-11-23T01:20:08.984Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üì° Optimized chunk #65 flushed: " soreness, joint feedback, or ..." (36 chars)|
| 1763860809079 | 2025-11-23T01:20:09.079Z c733215d-b330-44ad-97c3-001ed6befe0e INFO === BEDROCK MULTIMODAL STREAMING API CALL SUCCESS ===|
| 1763860809079 | 2025-11-23T01:20:09.079Z c733215d-b330-44ad-97c3-001ed6befe0e INFO Stream complete. Total response length: 1148|
| 1763860809079 | 2025-11-23T01:20:09.079Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üìä Metadata event received after messageStop|
| 1763860809079 | 2025-11-23T01:20:09.079Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üìä Usage data found in metadata|
| 1763860809079 | 2025-11-23T01:20:09.079Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üí∞ CACHE PERFORMANCE: {context: 'Multimodal Streaming API',inputTokens: 11780,outputTokens: 320,cacheRead: 0,cacheCreated: 0,cacheHitRate: '0.0%',costs: {withoutCache: '$0.035340',withCache: '$0.035340',saved: '$0.000000 (0%)'} }|
| 1763860809079 | 2025-11-23T01:20:09.079Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üìä Stream metrics: { latencyMs: 8321 }|
| 1763860809080 | 2025-11-23T01:20:09.080Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üì° [5489ms] Optimized AI chunk yielded: " concerns?..." (10 chars)|
| 1763860809080 | 2025-11-23T01:20:09.080Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üì° Final buffer flushed: " concerns?..." (10 chars)|
| 1763860809080 | 2025-11-23T01:20:09.080Z c733215d-b330-44ad-97c3-001ed6befe0e INFO ‚úÖ Real-time AI streaming completed successfully|
| 1763860809080 | 2025-11-23T01:20:09.080Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üîÑ Attempting Load coachConversation from DynamoDB (attempt 1/6)|
| 1763860809087 | 2025-11-23T01:20:09.087Z c733215d-b330-44ad-97c3-001ed6befe0e INFO coachConversation data loaded from DynamoDB successfully|
| 1763860809087 | 2025-11-23T01:20:09.087Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üîÑ Attempting Save coachConversation to DynamoDB (attempt 1/6)|
| 1763860809141 | 2025-11-23T01:20:09.141Z c733215d-b330-44ad-97c3-001ed6befe0e INFO ‚úÖ Conversation updated successfully|
| 1763860809141 | 2025-11-23T01:20:09.141Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üìä Conversation size: {sizeKB: 14.53,percentage: 4,isApproachingLimit: false,maxSizeKB: 400 }|
| 1763860809141 | 2025-11-23T01:20:09.141Z c733215d-b330-44ad-97c3-001ed6befe0e INFO === BEDROCK API CALL START ===|
| 1763860809141 | 2025-11-23T01:20:09.141Z c733215d-b330-44ad-97c3-001ed6befe0e INFO AWS Region: us-west-2|
| 1763860809141 | 2025-11-23T01:20:09.141Z c733215d-b330-44ad-97c3-001ed6befe0e INFO Model ID: us.anthropic.claude-haiku-4-5-20251001-v1:0|
| 1763860809141 | 2025-11-23T01:20:09.141Z c733215d-b330-44ad-97c3-001ed6befe0e INFO System prompt length: 4189|
| 1763860809141 | 2025-11-23T01:20:09.141Z c733215d-b330-44ad-97c3-001ed6befe0e INFO User message length: 364|
| 1763860809141 | 2025-11-23T01:20:09.141Z c733215d-b330-44ad-97c3-001ed6befe0e INFO Thinking enabled: false|
| 1763860809141 | 2025-11-23T01:20:09.141Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üöÄ Conversation summary triggered (fire-and-forget)|
| 1763860809142 | 2025-11-23T01:20:09.142Z c733215d-b330-44ad-97c3-001ed6befe0e INFO ‚úÖ Proper pipeline streaming implementation completed successfully|
| 1763860809142 | 2025-11-23T01:20:09.142Z c733215d-b330-44ad-97c3-001ed6befe0e INFO Bedrock client config: { region: 'us-west-2' }|
| 1763860809142 | 2025-11-23T01:20:09.142Z c733215d-b330-44ad-97c3-001ed6befe0e INFO Environment variables: {AWS_REGION: 'us-west-2',AWS_DEFAULT_REGION: 'us-west-2',AWS_LAMBDA_FUNCTION_NAME: 'amplify-neonpandaprotov1--streamcoachconversationl-YrHSi4Ltryf1' }|
| 1763860809142 | 2025-11-23T01:20:09.142Z c733215d-b330-44ad-97c3-001ed6befe0e INFO üéØ Response prefilling enabled: {|
| 1763860809142 | 2025-11-23T01:20:09.142Z c733215d-b330-44ad-97c3-001ed6befe0e INFO Converse command created successfully..|
| 1763860809142 | 2025-11-23T01:20:09.142Z c733215d-b330-44ad-97c3-001ed6befe0e INFO About to call bedrockClient.send()...|
| 1763860809142 | 2025-11-23T01:20:09.142Z c733215d-b330-44ad-97c3-001ed6befe0e INFO Starting Bedrock API call with 60s timeout..|
| 1763860809146 | 2025-11-23T01:20:09.146Z c733215d-b330-44ad-97c3-001ed6befe0e INFO ‚úÖ Streaming pipeline completed successfully|
| 1763860809148 | END RequestId: c733215d-b330-44ad-97c3-001ed6befe0e|
| 1763860809149 | REPORT RequestId: c733215d-b330-44ad-97c3-001ed6befe0e Duration: 14565.54 ms Billed Duration: 15247 ms Memory Size: 2048 MB Max Memory Used: 196 MB Init Duration: 680.72 ms|
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------