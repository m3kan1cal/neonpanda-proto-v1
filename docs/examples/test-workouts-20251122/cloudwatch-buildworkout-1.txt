--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
|timestamp|message|
|---------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 1763861639034 | INIT_START Runtime Version: nodejs:20.v88 Runtime Version ARN: arn:aws:lambda:us-west-2::runtime:26542ea3142318478ea6cfff7fbd6935faf657456a07dc7a3c1b59097d0d00be|
| 1763861639599 | 2025-11-23T01:33:59.599Z undefined INFO üîß PINECONE_API_KEY validation: {exists: true,length: 75,isPlaceholder: false,prefix: 'pcsk_4tHp6N_' }|
| 1763861639668 | START RequestId: 4af0d790-524e-4807-b508-2b01c0d7618f Version: $LATEST|
| 1763861639670 | 2025-11-23T01:33:59.670Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO üíì Starting heartbeat monitoring for: Workout Extraction (10s interval)|
| 1763861639671 | 2025-11-23T01:33:59.671Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO üèãÔ∏è Starting workout extraction: {userId: '63gocaz-j-AYRsb0094ik',coachId: 'user_63gocaz-j-AYRsb0094ik_coach_1756078034317',conversationId: 'conv_1763761119267_ek3vk5fw0',messageLength: 244,coachName: 'Victoria The Masters Champion',detectionType: 'natural_language',slashCommand: null,hasImages: true,imageCount: 1,timestamp: '2025-11-23T01:33:59.671Z' }|
| 1763861639702 | 2025-11-23T01:33:59.702Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO Generated extraction prompt: {promptLength: 25136,userMessage: "I'm not sure why but the workout didn't save so I'm logging it again. I want to log a workout that I completed today on 11/22/2025 from 3:30pm - 4pm ET. I did the workout that is attached in the image. It was 7/10 intensity, 8/10 RPE, 8/10 fun." }|
| 1763861639702 | 2025-11-23T01:33:59.702Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO Calling Claude for workout extraction..|
| 1763861639703 | 2025-11-23T01:33:59.703Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO Workout complexity analysis: {phaseMatches: 0,complexMatches: 1,contentLength: 244,isComplex: false }|
| 1763861639703 | 2025-11-23T01:33:59.703Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO Extraction configuration: { isComplexWorkout: false, enableThinking: false, workoutLength: 244 }|
| 1763861639703 | 2025-11-23T01:33:59.703Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO üéØ Attempting tool-based workout extraction|
| 1763861639703 | 2025-11-23T01:33:59.703Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO üñºÔ∏è Processing workout extraction with images: {imageCount: 1,imageKeys: [ 'user-uploads/63gocaz-j-AYRsb0094ik/6-OgA7VivdZThg39WrZFf.png' ] }|
| 1763861639827 | 2025-11-23T01:33:59.827Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO ‚úÖ Built multimodal content: 1 messages, 1 with images|
| 1763861639827 | 2025-11-23T01:33:59.827Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO === BEDROCK MULTIMODAL API CALL START ===|
| 1763861639828 | 2025-11-23T01:33:59.828Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO AWS Region: us-west-2|
| 1763861639828 | 2025-11-23T01:33:59.828Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO Model ID: us.anthropic.claude-sonnet-4-5-20250929-v1:0|
| 1763861639828 | 2025-11-23T01:33:59.828Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO System prompt length: 25136|
| 1763861639828 | 2025-11-23T01:33:59.828Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO Messages count: 1|
| 1763861639828 | 2025-11-23T01:33:59.828Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO Thinking enabled: false|
| 1763861639828 | 2025-11-23T01:33:59.828Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO Has images: true|
| 1763861639828 | 2025-11-23T01:33:59.828Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO Multimodal converse command created successfully..|
| 1763861649673 | 2025-11-23T01:34:09.673Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO üíì Heartbeat #1: Workout Extraction in progress (10s elapsed)|
| 1763861659675 | 2025-11-23T01:34:19.675Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO üíì Heartbeat #2: Workout Extraction in progress (20s elapsed)|
| 1763861667098 | 2025-11-23T01:34:27.098Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO Response received from Bedrock|
| 1763861667098 | 2025-11-23T01:34:27.098Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO Response metadata: {httpStatusCode: 200,requestId: 'cf07f959-3c39-4962-8b15-b76bb4170a29',extendedRequestId: undefined,cfId: undefined,attempts: 1,totalRetryDelay: 0 }|
| 1763861667099 | 2025-11-23T01:34:27.099Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO üí∞ CACHE PERFORMANCE: {context: 'Multimodal API',inputTokens: 16249,outputTokens: 2597,cacheRead: 0,cacheCreated: 0,cacheHitRate: '0.0%',costs: {withoutCache: '$0.048747',withCache: '$0.048747',saved: '$0.000000 (0%)'} }|
| 1763861667099 | 2025-11-23T01:34:27.099Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO üîß Tool use requested (multimodal), extracting tool result|
| 1763861667099 | 2025-11-23T01:34:27.099Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO ‚úÖ Tool-based extraction succeeded|
| 1763861667275 | 2025-11-23T01:34:27.275Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO Successfully stored debug data in S3: {bucket: 'midgard-sandbox-logs',key: 'sandbox-abb89311/workout-extraction/2025-11-23T01-34-27-100Z_63gocaz-j-AYRsb0094ik_workout-extraction-tool-success.txt',contentLength: 8816,metadataKeys: ['type','method','userId','conversationId','coachId','discipline','isComplexWorkout','enableThinking'] }|
| 1763861667276 | 2025-11-23T01:34:27.276Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO Extraction completed: {method: 'tool',workoutId: 'workout_63gocaz-j-AYRsb0094ik_1763861667099_7bv2tp7lv',discipline: 'crossfit',workoutName: 'Fortis Pressura' }|
| 1763861667276 | 2025-11-23T01:34:27.276Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO Parsed workout data structure: {basicInfo: {workoutId: 'workout_63gocaz-j-AYRsb0094ik_1763861667099_7bv2tp7lv',discipline: 'crossfit',workoutName: 'Fortis Pressura',workoutType: 'hybrid',duration: 964,location: 'gym'},performanceMetrics: 'Present',disciplineSpecific: [ 'crossfit' ],crossfitData: {workoutFormat: 'for_time',rxStatus: 'rx',roundsCount: 5,performanceData: 'Present'},metadataCompleteness: undefined,validationFlags: 0 }|
| 1763861667277 | 2025-11-23T01:34:27.277Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO üîç Normalization decision analysis: {hasCorrectStructure: true,extractionConfidence: 1,isComplex: true,workoutId: 'workout_63gocaz-j-AYRsb0094ik_1763861667099_7bv2tp7lv',discipline: 'crossfit' }|
| 1763861667277 | 2025-11-23T01:34:27.277Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO üîß Normalization required: complex workout needs validation|
| 1763861667277 | 2025-11-23T01:34:27.277Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO üîß Running normalization on workout data.. {reason: 'structural_check',confidence: 1,hasCoachNotes: false,hasDisciplineSpecific: true }|
| 1763861667277 | 2025-11-23T01:34:27.277Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO üîß Starting workout normalization: {userId: '63gocaz-j-AYRsb0094ik',workoutId: 'workout_63gocaz-j-AYRsb0094ik_1763861667099_7bv2tp7lv',discipline: 'crossfit' }|
| 1763861667278 | 2025-11-23T01:34:27.278Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO Normalization call configuration: { enableThinking: false, promptLength: 62381 }|
| 1763861667278 | 2025-11-23T01:34:27.278Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO üéØ Attempting tool-based workout normalization|
| 1763861667278 | 2025-11-23T01:34:27.278Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO === BEDROCK API CALL START ===|
| 1763861667279 | 2025-11-23T01:34:27.279Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO AWS Region: us-west-2|
| 1763861667279 | 2025-11-23T01:34:27.279Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO Model ID: us.anthropic.claude-sonnet-4-5-20250929-v1:0|
| 1763861667279 | 2025-11-23T01:34:27.279Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO System prompt length: 62381|
| 1763861667279 | 2025-11-23T01:34:27.279Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO User message length: 21|
| 1763861667279 | 2025-11-23T01:34:27.279Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO Thinking enabled: false|
| 1763861667279 | 2025-11-23T01:34:27.279Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO Bedrock client config: { region: 'us-west-2' }|
| 1763861667279 | 2025-11-23T01:34:27.279Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO Environment variables: {AWS_REGION: 'us-west-2',AWS_DEFAULT_REGION: 'us-west-2',AWS_LAMBDA_FUNCTION_NAME: 'amplify-neonpandaprotov1--buildworkoutlambda23D1E4-KFUp94ybUR20' }|
| 1763861667279 | 2025-11-23T01:34:27.279Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO Converse command created successfully..|
| 1763861667279 | 2025-11-23T01:34:27.279Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO About to call bedrockClient.send()...|
| 1763861667279 | 2025-11-23T01:34:27.279Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO Starting Bedrock API call with 60s timeout..|
| 1763861669677 | 2025-11-23T01:34:29.677Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO üíì Heartbeat #3: Workout Extraction in progress (30s elapsed)|
| 1763861672282 | 2025-11-23T01:34:32.282Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO HEARTBEAT: Lambda still running, waiting for Bedrock response..|
| 1763861677285 | 2025-11-23T01:34:37.285Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO HEARTBEAT: Lambda still running, waiting for Bedrock response..|
| 1763861679680 | 2025-11-23T01:34:39.680Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO üíì Heartbeat #4: Workout Extraction in progress (40s elapsed)|
| 1763861682288 | 2025-11-23T01:34:42.288Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO HEARTBEAT: Lambda still running, waiting for Bedrock response..|
| 1763861687293 | 2025-11-23T01:34:47.293Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO HEARTBEAT: Lambda still running, waiting for Bedrock response..|
| 1763861689683 | 2025-11-23T01:34:49.683Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO üíì Heartbeat #5: Workout Extraction in progress (50s elapsed)|
| 1763861692296 | 2025-11-23T01:34:52.296Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO HEARTBEAT: Lambda still running, waiting for Bedrock response..|
| 1763861697301 | 2025-11-23T01:34:57.301Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO HEARTBEAT: Lambda still running, waiting for Bedrock response..|
| 1763861699683 | 2025-11-23T01:34:59.683Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO üíì Heartbeat #6: Workout Extraction in progress (60s elapsed)|
| 1763861702303 | 2025-11-23T01:35:02.303Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO HEARTBEAT: Lambda still running, waiting for Bedrock response..|
| 1763861706745 | 2025-11-23T01:35:06.745Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO bedrockClient.send() completed successfully|
| 1763861706745 | 2025-11-23T01:35:06.745Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO Response received from Bedrock|
| 1763861706745 | 2025-11-23T01:35:06.745Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO Response metadata: {httpStatusCode: 200,requestId: '18203fa2-6e44-433a-92a3-d5e878ad78eb',extendedRequestId: undefined,cfId: undefined,attempts: 1,totalRetryDelay: 0 }|
| 1763861706746 | 2025-11-23T01:35:06.746Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO Response structure: {hasOutput: true,hasMessage: true,hasContent: true,contentLength: 1,hasText: false,textType: 'undefined',contentFirstItem: {toolUse: {input: [Object],name: 'normalize_workout',toolUseId: 'tooluse_Ltrh11WWRTedb7veofA5_A',type: 'tool_use'}} }|
| 1763861706746 | 2025-11-23T01:35:06.746Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO üîß Tool use requested, extracting tool result|
| 1763861706746 | 2025-11-23T01:35:06.746Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO ‚úÖ Tool-based normalization succeeded|
| 1763861706746 | 2025-11-23T01:35:06.746Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO Normalization completed: { method: 'tool', isValid: undefined, issues: 0 }|
| 1763861706746 | 2025-11-23T01:35:06.746Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO Normalization completed: {isValid: true,issuesFound: 0,correctionsMade: 0,normalizationConfidence: 0.8,summary: 'Normalization PASSED (confidence: 0.80)' }|
| 1763861706746 | 2025-11-23T01:35:06.746Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO Classifying discipline as qualitative/quantitative: { discipline: 'crossfit', hasWorkoutContext: true }|
| 1763861706747 | 2025-11-23T01:35:06.747Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO === BEDROCK API CALL START ===|
| 1763861706747 | 2025-11-23T01:35:06.747Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO AWS Region: us-west-2|
| 1763861706747 | 2025-11-23T01:35:06.747Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO Model ID: us.anthropic.claude-haiku-4-5-20251001-v1:0|
| 1763861706747 | 2025-11-23T01:35:06.747Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO System prompt length: 2797|
| 1763861706747 | 2025-11-23T01:35:06.747Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO User message length: 8|
| 1763861706747 | 2025-11-23T01:35:06.747Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO Thinking enabled: false|
| 1763861706747 | 2025-11-23T01:35:06.747Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO Bedrock client config: { region: 'us-west-2' }|
| 1763861706747 | 2025-11-23T01:35:06.747Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO Environment variables: {AWS_REGION: 'us-west-2',AWS_DEFAULT_REGION: 'us-west-2',AWS_LAMBDA_FUNCTION_NAME: 'amplify-neonpandaprotov1--buildworkoutlambda23D1E4-KFUp94ybUR20' }|
| 1763861706747 | 2025-11-23T01:35:06.747Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO Converse command created successfully..|
| 1763861706747 | 2025-11-23T01:35:06.747Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO About to call bedrockClient.send()...|
| 1763861706747 | 2025-11-23T01:35:06.747Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO Starting Bedrock API call with 60s timeout..|
| 1763861708640 | 2025-11-23T01:35:08.640Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO bedrockClient.send() completed successfully|
| 1763861708640 | 2025-11-23T01:35:08.640Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO Response received from Bedrock|
| 1763861708640 | 2025-11-23T01:35:08.640Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO Response metadata: {httpStatusCode: 200,requestId: 'e80048c0-8477-4558-9f6d-2bfd951dd05a',extendedRequestId: undefined,cfId: undefined,attempts: 1,totalRetryDelay: 0 }|
| 1763861708640 | 2025-11-23T01:35:08.640Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO Response structure: {hasOutput: true,hasMessage: true,hasContent: true,contentLength: 1,hasText: true,textType: 'string',contentFirstItem: {text: '```json\n' +'{\n' +'"isQualitative": false,\n' +'"requiresPreciseMetrics": true,\n' +'"environment": "indoor",\n' +'"primaryFocus": "mixed",\n' +'"confidence": 0.95,\n' +`"reasoning": "CrossFit is a quantitative discipline requiring precise tracking of weights, reps, sets, times, and distances. Performed in controlled gym environment with measurable equipment. Mixed focus encompasses strength, power, endurance, and speed components equally. High confidence due to CrossFit's well-defined metrics-driven methodology."\n` +'}\n' +'```'} }|
| 1763861708641 | 2025-11-23T01:35:08.641Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO Successfully extracted response text, length: 503|
| 1763861708641 | 2025-11-23T01:35:08.641Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO === BEDROCK API CALL SUCCESS ===|
| 1763861708714 | 2025-11-23T01:35:08.714Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO Successfully stored debug data in S3: {bucket: 'midgard-sandbox-logs',key: 'sandbox-abb89311/workout-discipline/2025-11-23T01-35-08-641Z_unknown_discipline-classification-prompt.txt',contentLength: 2797,metadataKeys: ['discipline','hasWorkoutContext','workoutName','workoutType','promptLength','type'] }|
| 1763861708741 | 2025-11-23T01:35:08.741Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO Successfully stored debug data in S3: {bucket: 'midgard-sandbox-logs',key: 'sandbox-abb89311/workout-discipline/2025-11-23T01-35-08-715Z_unknown_discipline-classification-response.txt',contentLength: 503,metadataKeys: [ 'discipline', 'responseLength', 'type' ] }|
| 1763861708741 | 2025-11-23T01:35:08.741Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO ‚úÖ Stored discipline classification prompt + response in S3|
| 1763861708741 | 2025-11-23T01:35:08.741Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO ‚úÖ Stripped non-JSON text from response {originalLength: 503,extractedLength: 491,removedPrefix: true,removedSuffix: true }|
| 1763861708742 | 2025-11-23T01:35:08.742Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO AI discipline classification result: {discipline: 'crossfit',isQualitative: false,requiresPreciseMetrics: true,environment: 'indoor',primaryFocus: 'mixed',confidence: 0.95,reasoning: "CrossFit is a quantitative discipline requiring precise tracking of weights, reps, sets, times, and distances. Performed in controlled gym environment with measurable equipment. Mixed focus encompasses strength, power, endurance, and speed components equally. High confidence due to CrossFit's well-defined metrics-driven methodology." }|
| 1763861708743 | 2025-11-23T01:35:08.743Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO Extracting workout completion time using Nova Micro: {userMessage: "I'm not sure why but the workout didn't save so I'm logging it again. I want to log a workout that I",messageTimestamp: '2025-11-23T01:33:51.745Z',currentTime: '2025-11-23T01:35:08.743Z',timeSinceMessage: '77s' }|
| 1763861708743 | 2025-11-23T01:35:08.743Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO === BEDROCK API CALL START ===|
| 1763861708743 | 2025-11-23T01:35:08.743Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO AWS Region: us-west-2|
| 1763861708743 | 2025-11-23T01:35:08.743Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO Model ID: us.anthropic.claude-haiku-4-5-20251001-v1:0|
| 1763861708743 | 2025-11-23T01:35:08.743Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO System prompt length: 4370|
| 1763861708743 | 2025-11-23T01:35:08.743Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO User message length: 244|
| 1763861708743 | 2025-11-23T01:35:08.743Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO Thinking enabled: false|
| 1763861708743 | 2025-11-23T01:35:08.743Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO Bedrock client config: { region: 'us-west-2' }|
| 1763861708743 | 2025-11-23T01:35:08.743Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO Environment variables: {AWS_REGION: 'us-west-2',AWS_DEFAULT_REGION: 'us-west-2',AWS_LAMBDA_FUNCTION_NAME: 'amplify-neonpandaprotov1--buildworkoutlambda23D1E4-KFUp94ybUR20' }|
| 1763861708743 | 2025-11-23T01:35:08.743Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO üéØ Response prefilling enabled: {|
| 1763861708743 | 2025-11-23T01:35:08.743Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO Converse command created successfully..|
| 1763861708743 | 2025-11-23T01:35:08.743Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO About to call bedrockClient.send()...|
| 1763861708743 | 2025-11-23T01:35:08.743Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO Starting Bedrock API call with 60s timeout..|
| 1763861709684 | 2025-11-23T01:35:09.684Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO üíì Heartbeat #7: Workout Extraction in progress (70s elapsed)|
| 1763861710610 | 2025-11-23T01:35:10.610Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO bedrockClient.send() completed successfully|
| 1763861710610 | 2025-11-23T01:35:10.610Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO Response received from Bedrock|
| 1763861710610 | 2025-11-23T01:35:10.610Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO Response metadata: {httpStatusCode: 200,requestId: '4a677024-0f91-4d2c-986e-11fc6cb92d07',extendedRequestId: undefined,cfId: undefined,attempts: 1,totalRetryDelay: 0 }|
| 1763861710610 | 2025-11-23T01:35:10.610Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO Response structure: {hasOutput: true,hasMessage: true,hasContent: true,contentLength: 1,hasText: true,textType: 'string',contentFirstItem: {text: '\n' +'"completedAt": "2025-11-22T20:30:00.000Z",\n' +'"confidence": 0.95,\n' +`"reasoning": "User explicitly states workout completed 'today on 11/22/2025 from 3:30pm - 4pm ET'. Message typed at 11/22/2025 20:33:51 ET (within minutes of workout end time), confirming same-day workout. 3:30pm ET converts to 20:30 UTC. Start time used as workout completion reference point."\n` +'}'} }|
| 1763861710610 | 2025-11-23T01:35:10.610Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO üéØ Prepended prefill text to response: { prefillText: '{', originalLength: 366, newLength: 367 }|
| 1763861710610 | 2025-11-23T01:35:10.610Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO Successfully extracted response text, length: 367|
| 1763861710610 | 2025-11-23T01:35:10.610Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO === BEDROCK API CALL SUCCESS ===|
| 1763861710610 | 2025-11-23T01:35:10.610Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO AI time extraction result: {userMessage: "I'm not sure why but the workout didn't save so I'm logging it again. I want to log a workout that I",extractedTime: '2025-11-22T20:30:00.000Z',confidence: 0.95,reasoning: "User explicitly states workout completed 'today on 11/22/2025 from 3:30pm - 4pm ET'. Message typed at 11/22/2025 20:33:51 ET (within minutes of workout end time), confirming same-day workout. 3:30pm ET converts to 20:30 UTC. Start time used as workout completion reference point." }|
| 1763861710610 | 2025-11-23T01:35:10.610Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO Workout timing analysis: {userMessage: "I'm not sure why but the workout didn't save so I'm logging it again. I want to log a workout that I",userTimezone: 'America/New_York',extractedTime: '2025-11-22T20:30:00.000Z',finalCompletedAt: '2025-11-22T20:30:00.000Z',workoutDate: '2025-11-22',currentTime: '2025-11-23T01:35:10.610Z',isToday: false,daysDifference: 0 }|
| 1763861710610 | 2025-11-23T01:35:10.610Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO Generating workout summary..|
| 1763861710611 | 2025-11-23T01:35:10.611Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO === BEDROCK API CALL START ===|
| 1763861710611 | 2025-11-23T01:35:10.611Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO AWS Region: us-west-2|
| 1763861710611 | 2025-11-23T01:35:10.611Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO Model ID: us.anthropic.claude-sonnet-4-5-20250929-v1:0|
| 1763861710611 | 2025-11-23T01:35:10.611Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO System prompt length: 10136|
| 1763861710611 | 2025-11-23T01:35:10.611Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO User message length: 244|
| 1763861710611 | 2025-11-23T01:35:10.611Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO Thinking enabled: false|
| 1763861710611 | 2025-11-23T01:35:10.611Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO Bedrock client config: { region: 'us-west-2' }|
| 1763861710611 | 2025-11-23T01:35:10.611Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO Environment variables: {AWS_REGION: 'us-west-2',AWS_DEFAULT_REGION: 'us-west-2',AWS_LAMBDA_FUNCTION_NAME: 'amplify-neonpandaprotov1--buildworkoutlambda23D1E4-KFUp94ybUR20' }|
| 1763861710611 | 2025-11-23T01:35:10.611Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO Converse command created successfully..|
| 1763861710611 | 2025-11-23T01:35:10.611Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO About to call bedrockClient.send()...|
| 1763861710611 | 2025-11-23T01:35:10.611Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO Starting Bedrock API call with 60s timeout..|
| 1763861714579 | 2025-11-23T01:35:14.579Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO bedrockClient.send() completed successfully|
| 1763861714579 | 2025-11-23T01:35:14.579Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO Response received from Bedrock|
| 1763861714579 | 2025-11-23T01:35:14.579Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO Response metadata: {httpStatusCode: 200,requestId: '8bb32b75-2b4c-49f9-a4ec-f0cffe677182',extendedRequestId: undefined,cfId: undefined,attempts: 1,totalRetryDelay: 0 }|
| 1763861714579 | 2025-11-23T01:35:14.579Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO Response structure: {hasOutput: true,hasMessage: true,hasContent: true,contentLength: 1,hasText: true,textType: 'string',contentFirstItem: {text: 'Completed "Fortis Pressura" - 5 rounds for time in 16:04 Rx, consisting of 10 push press @ 115#, 8 dips, 12 lunges @ 110# total (55# per hand), and 30 double unders. Solid upper body volume with consistent pacing across all movements, maintaining unbroken sets throughout the workout. Good balance of pressing strength, gymnastics, heavy lunges, and cardio conditioning with moderate-high intensity that felt challenging but enjoyable.'} }|
| 1763861714579 | 2025-11-23T01:35:14.579Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO Successfully extracted response text, length: 435|
| 1763861714579 | 2025-11-23T01:35:14.579Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO === BEDROCK API CALL SUCCESS ===|
| 1763861714579 | 2025-11-23T01:35:14.579Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO Generated summary: {summary: 'Completed "Fortis Pressura" - 5 rounds for time in 16:04 Rx, consisting of 10 push press @ 115#, 8 dips, 12 lunges @ 110# total (55# per hand), and 30 double unders. Solid upper body volume with consistent pacing across all movements, maintaining unbroken sets throughout the workout. Good balance of pressing strength, gymnastics, heavy lunges, and cardio conditioning with moderate-high intensity that felt challenging but enjoyable.',length: 435 }|
| 1763861714579 | 2025-11-23T01:35:14.579Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO Saving workout to DynamoDB.. {workoutId: 'workout_63gocaz-j-AYRsb0094ik_1763861667099_7bv2tp7lv',discipline: 'crossfit',workoutName: 'Fortis Pressura',confidence: 1,completeness: 0.7,detectionType: 'natural_language',slashCommand: null,normalizationSummary: 'Normalization PASSED (confidence: 0.80)' }|
| 1763861714579 | 2025-11-23T01:35:14.579Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO Complete workout data being saved: {workout: {workoutId: 'workout_63gocaz-j-AYRsb0094ik_1763861667099_7bv2tp7lv',userId: '63gocaz-j-AYRsb0094ik',conversationId: 'conv_1763761119267_ek3vk5fw0',completedAt: 2025-11-22T20:30:00.000Z,extractionMetadata: {confidence: 1,extractedAt: 2025-11-23T01:35:14.579Z,reviewedBy: 'system',reviewedAt: 2025-11-23T01:35:14.579Z,normalizationSummary: 'Normalization PASSED (confidence: 0.80)'}},workoutData: {date: '2025-11-22',discipline: 'crossfit',workout_type: 'hybrid',workout_name: 'Fortis Pressura',location: 'gym',duration: 964,session_duration: 1800,discipline_specific: { crossfit: [Object] },performance_metrics: { intensity: 7, perceived_exertion: 8, heart_rate: [Object] },subjective_feedback: {enjoyment: 8,difficulty: 7,notes: 'Completed in 16:04. Good upper body volume with pressing and gymnastics, plus heavy lunges and cardio finisher.'},metadata: {logged_via: 'conversation',data_confidence: 1,ai_extracted: true,user_verified: false,version: '1.0',schema_version: '2.0',extraction_method: 'claude_conversation_analysis',generation_method: 'tool',generation_timestamp: '2025-11-23T01:34:27.276Z',extraction_notes: 'Workout extracted from user-provided image showing 5 rounds for time: 10 push press @ 115#, 8 dips, 6 (each leg) lunges @ 55# each hand, 30 double unders. Completed in 16:04. User specified 7/10 intensity, 8/10 RPE, 8/10 enjoyment. Session duration calculated from 3:30pm-4pm ET (30 minutes total). Lunge weight calculated as total load: 55# per hand √ó 2 = 110# total. High confidence in all data points.',validation_flags: [],data_completeness: 0.7},workout_id: 'workout_63gocaz-j-AYRsb0094ik_1763861667099_7bv2tp7lv',user_id: '63gocaz-j-AYRsb0094ik',discipline_specific_summary: {disciplines: [Array],crossfit_details: '{"workout_format":"for_time","rx_status":"rx","time_cap":null,"rounds":[{"round_number":1,"exercises":[{"exercise_name":"Push Press","movement_type":"barbell","reps":{"prescribed":10,"completed":10},"weight":{"value":115,"unit":"lbs"}},{"exercise_name":"Dips","movement_type":"gymnastics","reps":{"prescribed":8,"completed":8},"weight":{"value":null,"unit":"lbs"}},{"exercise_name":"Lunges","movement_type":"dumbbell","reps":{"prescribed":12,"completed":12},"weight":{"value":110,"unit":"lbs"},"form_...'}} }|
| 1763861714580 | 2025-11-23T01:35:14.580Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO üîÑ Attempting Save workout to DynamoDB (attempt 1/6)|
| 1763861714657 | 2025-11-23T01:35:14.657Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO Workout saved successfully: {workoutId: 'workout_63gocaz-j-AYRsb0094ik_1763861667099_7bv2tp7lv',userId: '63gocaz-j-AYRsb0094ik',discipline: 'crossfit',completedAt: 2025-11-22T20:30:00.000Z,groupId: 'none',templateId: 'none' }|
| 1763861714657 | 2025-11-23T01:35:14.657Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO üìù Storing workout summary in Pinecone..|
| 1763861715690 | 2025-11-23T01:35:15.690Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO Successfully stored context in Pinecone: {indexName: 'coach-creator-proto-v1-dev',namespace: 'user_63gocaz-j-AYRsb0094ik',recordId: 'workout_63gocaz-j-AYRsb0094ik_1763861667099_7bv2tp7lv',userId: '63gocaz-j-AYRsb0094ik',contentLength: 435 }|
| 1763861715690 | 2025-11-23T01:35:15.690Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO ‚úÖ Successfully stored workout summary in Pinecone: {workoutId: 'workout_63gocaz-j-AYRsb0094ik_1763861667099_7bv2tp7lv',recordId: 'workout_63gocaz-j-AYRsb0094ik_1763861667099_7bv2tp7lv',namespace: 'user_63gocaz-j-AYRsb0094ik',discipline: 'crossfit',summaryLength: 435 }|
| 1763861715690 | 2025-11-23T01:35:15.690Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO ‚úÖ Workout extraction completed successfully: {workoutId: 'workout_63gocaz-j-AYRsb0094ik_1763861667099_7bv2tp7lv',discipline: 'crossfit',workoutName: 'Fortis Pressura',confidence: 1,validationFlags: [],normalizationSummary: 'Normalization PASSED (confidence: 0.80)',pineconeStored: true,pineconeRecordId: 'workout_63gocaz-j-AYRsb0094ik_1763861667099_7bv2tp7lv',templateLinked: false }|
| 1763861715690 | 2025-11-23T01:35:15.690Z 4af0d790-524e-4807-b508-2b01c0d7618f INFO üíì Heartbeat stopped for Workout Extraction: 7 beats (70s total)|
| 1763861715693 | END RequestId: 4af0d790-524e-4807-b508-2b01c0d7618f|
| 1763861715693 | REPORT RequestId: 4af0d790-524e-4807-b508-2b01c0d7618f Duration: 76024.41 ms Billed Duration: 76655 ms Memory Size: 2048 MB Max Memory Used: 153 MB Init Duration: 630.56 ms|
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------