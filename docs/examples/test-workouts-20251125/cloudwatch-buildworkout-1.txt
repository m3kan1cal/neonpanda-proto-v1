---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
|   timestamp   |message|
|---------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 1764113450938 | INIT_START Runtime Version: nodejs:22.v68 Runtime Version ARN: arn:aws:lambda:us-west-2::runtime:685b5bdd1a5972cbde591187200f592fbd417cd448d71e500b10e41759692493|
| 1764113451402 | 2025-11-25T23:30:51.402Z undefined INFO üîß PINECONE_API_KEY validation: {   exists: true,   length: 75,   isPlaceholder: false,   prefix: 'pcsk_4tHp6N_' }|
| 1764113451449 | START RequestId: 4f6b8452-9291-4a4d-865a-b38cf1098c03 Version: $LATEST|
| 1764113451451 | 2025-11-25T23:30:51.451Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO üíì Starting heartbeat monitoring for: Workout Extraction (10s interval)|
| 1764113451452 | 2025-11-25T23:30:51.452Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO üèãÔ∏è Starting workout extraction: {   userId: '63gocaz-j-AYRsb0094ik',   coachId: 'user_63gocaz-j-AYRsb0094ik_coach_1756078034317',   conversationId: 'conv_1763761119267_ek3vk5fw0',   messageLength: 404,   coachName: 'Victoria The Masters Champion',   detectionType: 'natural_language',   slashCommand: null,   hasImages: false,   imageCount: 0,   timestamp: '2025-11-25T23:30:51.452Z' }|
| 1764113451481 | 2025-11-25T23:30:51.481Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO Generated extraction prompt: {   promptLength: 25065,   userMessage: 'I want to log a workout that I completed this morning. I did the following movements:\n' +'3 rounds\n' +'20 DL @ 225#\n' +"800m run I worked out from 7am - 7:45am ET including warmup. The actual workout was 27 minutes. I'll give the intensity 7/10 and RPE 8/10.  I burned about 240 calories. I trained in my home garage gym today and it was a Crossfit style workout. I was able to get about 6 hours of sleep last night." }|
| 1764113451482 | 2025-11-25T23:30:51.482Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO Calling Claude for workout extraction..|
| 1764113451482 | 2025-11-25T23:30:51.482Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO Workout complexity analysis: {   phaseMatches: 1,   complexMatches: 2,   contentLength: 404,   isComplex: false }|
| 1764113451482 | 2025-11-25T23:30:51.482Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO Extraction configuration: { isComplexWorkout: false, enableThinking: false, workoutLength: 404 }|
| 1764113451483 | 2025-11-25T23:30:51.483Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO üéØ Attempting tool-based workout extraction|
| 1764113451483 | 2025-11-25T23:30:51.483Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO === BEDROCK API CALL START ===|
| 1764113451483 | 2025-11-25T23:30:51.483Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO AWS Region: us-west-2|
| 1764113451483 | 2025-11-25T23:30:51.483Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO Model ID: us.anthropic.claude-sonnet-4-5-20250929-v1:0|
| 1764113451483 | 2025-11-25T23:30:51.483Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO System prompt length: 25065|
| 1764113451483 | 2025-11-25T23:30:51.483Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO User message length: 404|
| 1764113451483 | 2025-11-25T23:30:51.483Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO Thinking enabled: false|
| 1764113451484 | 2025-11-25T23:30:51.484Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO Bedrock client config: { region: 'us-west-2' }|
| 1764113451484 | 2025-11-25T23:30:51.484Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO Environment variables: {   AWS_REGION: 'us-west-2',   AWS_DEFAULT_REGION: 'us-west-2',   AWS_LAMBDA_FUNCTION_NAME: 'amplify-neonpandaprotov1--buildworkoutlambda23D1E4-KFUp94ybUR20' }|
| 1764113451484 | 2025-11-25T23:30:51.484Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO Converse command created successfully..|
| 1764113451484 | 2025-11-25T23:30:51.484Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO About to call bedrockClient.send()...|
| 1764113451484 | 2025-11-25T23:30:51.484Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO Starting Bedrock API call with 60s timeout..|
| 1764113456489 | 2025-11-25T23:30:56.489Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO HEARTBEAT: Lambda still running, waiting for Bedrock response..|
| 1764113461453 | 2025-11-25T23:31:01.453Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO üíì Heartbeat #1: Workout Extraction in progress (10s elapsed)|
| 1764113461489 | 2025-11-25T23:31:01.489Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO HEARTBEAT: Lambda still running, waiting for Bedrock response..|
| 1764113466495 | 2025-11-25T23:31:06.495Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO HEARTBEAT: Lambda still running, waiting for Bedrock response..|
| 1764113471457 | 2025-11-25T23:31:11.457Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO üíì Heartbeat #2: Workout Extraction in progress (20s elapsed)|
| 1764113471494 | 2025-11-25T23:31:11.494Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO HEARTBEAT: Lambda still running, waiting for Bedrock response..|
| 1764113476495 | 2025-11-25T23:31:16.495Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO HEARTBEAT: Lambda still running, waiting for Bedrock response..|
| 1764113476897 | 2025-11-25T23:31:16.897Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO bedrockClient.send() completed successfully|
| 1764113476897 | 2025-11-25T23:31:16.897Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO Response received from Bedrock|
| 1764113476897 | 2025-11-25T23:31:16.897Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO Response metadata: {   httpStatusCode: 200,   requestId: 'e3020938-49ba-49c1-9c61-efb4dde3f89c',   extendedRequestId: undefined,   cfId: undefined,   attempts: 1,   totalRetryDelay: 0 }|
| 1764113476897 | 2025-11-25T23:31:16.897Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO Response structure: {   hasOutput: true,   hasMessage: true,   hasContent: true,   contentLength: 1,   hasText: false,   textType: 'undefined',   contentFirstItem: {toolUse: {toolUseId: 'tooluse_-A97nqAcTBiym4wpG8WSkw',name: 'generate_workout',input: [Object],type: 'tool_use'}   } }|
| 1764113476898 | 2025-11-25T23:31:16.898Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO üîß Tool use requested, extracting tool result|
| 1764113476898 | 2025-11-25T23:31:16.898Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO ‚úÖ Tool-based extraction succeeded|
| 1764113477012 | 2025-11-25T23:31:17.012Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO Successfully stored debug data in S3: {   bucket: 'midgard-sandbox-logs',   key: 'sandbox-abb89311/workout-extraction/2025-11-25T23-31-16-898Z_63gocaz-j-AYRsb0094ik_workout-extraction-tool-success.txt',   contentLength: 5642,   metadataKeys: ['type','method','userId','conversationId','coachId','discipline','isComplexWorkout','enableThinking'   ] }|
| 1764113477013 | 2025-11-25T23:31:17.013Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO Extraction completed: {   method: 'tool',   workoutId: 'workout_63gocaz-j-AYRsb0094ik_1764113476898_4jqzfxr1x',   discipline: 'crossfit',   workoutName: 'Gladiator Fortis' }|
| 1764113477013 | 2025-11-25T23:31:17.013Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO Parsed workout data structure: {   basicInfo: {workoutId: 'workout_63gocaz-j-AYRsb0094ik_1764113476898_4jqzfxr1x',discipline: 'crossfit',workoutName: 'Gladiator Fortis',workoutType: 'hybrid',duration: 1620,location: 'home'   },   performanceMetrics: 'Present',   disciplineSpecific: [ 'crossfit' ],   crossfitData: {workoutFormat: 'for_time',rxStatus: 'rx',roundsCount: 3,performanceData: 'Present'   },   metadataCompleteness: undefined,   validationFlags: 0 }|
| 1764113477013 | 2025-11-25T23:31:17.013Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO üîç Normalization decision analysis: {   hasCorrectStructure: true,   extractionConfidence: 1,   isComplex: false,   workoutId: 'workout_63gocaz-j-AYRsb0094ik_1764113476898_4jqzfxr1x',   discipline: 'crossfit' }|
| 1764113477013 | 2025-11-25T23:31:17.013Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO ‚úÖ Skipping normalization: correct structure + high confidence + simple workout|
| 1764113477013 | 2025-11-25T23:31:17.013Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO ‚è© Skipping normalization: { reason: 'high_confidence', confidence: 1 }|
| 1764113477014 | 2025-11-25T23:31:17.014Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO Classifying discipline as qualitative/quantitative: { discipline: 'crossfit', hasWorkoutContext: true }|
| 1764113477014 | 2025-11-25T23:31:17.014Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO === BEDROCK API CALL START ===|
| 1764113477014 | 2025-11-25T23:31:17.014Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO AWS Region: us-west-2|
| 1764113477014 | 2025-11-25T23:31:17.014Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO Model ID: us.anthropic.claude-haiku-4-5-20251001-v1:0|
| 1764113477014 | 2025-11-25T23:31:17.014Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO System prompt length: 2800|
| 1764113477014 | 2025-11-25T23:31:17.014Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO User message length: 8|
| 1764113477014 | 2025-11-25T23:31:17.014Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO Thinking enabled: false|
| 1764113477014 | 2025-11-25T23:31:17.014Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO Bedrock client config: { region: 'us-west-2' }|
| 1764113477014 | 2025-11-25T23:31:17.014Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO Environment variables: {   AWS_REGION: 'us-west-2',   AWS_DEFAULT_REGION: 'us-west-2',   AWS_LAMBDA_FUNCTION_NAME: 'amplify-neonpandaprotov1--buildworkoutlambda23D1E4-KFUp94ybUR20' }|
| 1764113477014 | 2025-11-25T23:31:17.014Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO Converse command created successfully..|
| 1764113477014 | 2025-11-25T23:31:17.014Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO About to call bedrockClient.send()...|
| 1764113477014 | 2025-11-25T23:31:17.014Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO Starting Bedrock API call with 60s timeout..|
| 1764113479314 | 2025-11-25T23:31:19.314Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO bedrockClient.send() completed successfully|
| 1764113479315 | 2025-11-25T23:31:19.315Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO Response received from Bedrock|
| 1764113479315 | 2025-11-25T23:31:19.315Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO Response metadata: {   httpStatusCode: 200,   requestId: 'c3766838-ba7f-49e3-b65a-6f9d64c0364d',   extendedRequestId: undefined,   cfId: undefined,   attempts: 1,   totalRetryDelay: 0 }|
| 1764113479315 | 2025-11-25T23:31:19.315Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO Response structure: {   hasOutput: true,   hasMessage: true,   hasContent: true,   contentLength: 1,   hasText: true,   textType: 'string',   contentFirstItem: {text: '```json\n' +'{\n' +'  "isQualitative": false,\n' +'  "requiresPreciseMetrics": true,\n' +'  "environment": "indoor",\n' +'  "primaryFocus": "mixed",\n' +'  "confidence": 0.95,\n' +`  "reasoning": "CrossFit is a quantitative discipline requiring precise tracking of weights, reps, times, and distances for progression and competition. Mixed focus encompasses strength, power, endurance, and speed components. Home location doesn't change the quantitative nature of the discipline."\n` +'}\n' +'```'   } }|
| 1764113479315 | 2025-11-25T23:31:19.315Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO Successfully extracted response text, length: 451|
| 1764113479315 | 2025-11-25T23:31:19.315Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO === BEDROCK API CALL SUCCESS ===|
| 1764113479345 | 2025-11-25T23:31:19.345Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO Successfully stored debug data in S3: {   bucket: 'midgard-sandbox-logs',   key: 'sandbox-abb89311/workout-discipline/2025-11-25T23-31-19-315Z_unknown_discipline-classification-prompt.txt',   contentLength: 2800,   metadataKeys: ['discipline','hasWorkoutContext','workoutName','workoutType','promptLength','type'   ] }|
| 1764113479375 | 2025-11-25T23:31:19.375Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO Successfully stored debug data in S3: {   bucket: 'midgard-sandbox-logs',   key: 'sandbox-abb89311/workout-discipline/2025-11-25T23-31-19-345Z_unknown_discipline-classification-response.txt',   contentLength: 451,   metadataKeys: [ 'discipline', 'responseLength', 'type' ] }|
| 1764113479375 | 2025-11-25T23:31:19.375Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO ‚úÖ Stored discipline classification prompt + response in S3|
| 1764113479375 | 2025-11-25T23:31:19.375Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO ‚úÖ Stripped non-JSON text from response {   originalLength: 451,   extractedLength: 439,   removedPrefix: true,   removedSuffix: true }|
| 1764113479376 | 2025-11-25T23:31:19.376Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO AI discipline classification result: {   discipline: 'crossfit',   isQualitative: false,   requiresPreciseMetrics: true,   environment: 'indoor',   primaryFocus: 'mixed',   confidence: 0.95,   reasoning: "CrossFit is a quantitative discipline requiring precise tracking of weights, reps, times, and distances for progression and competition. Mixed focus encompasses strength, power, endurance, and speed components. Home location doesn't change the quantitative nature of the discipline." }|
| 1764113479377 | 2025-11-25T23:31:19.377Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO Extracting workout completion time using Nova Micro: {   userMessage: 'I want to log a workout that I completed this morning. I did the following movements:\n' +'3 rounds\n' +'20 DL',   messageTimestamp: '2025-11-25T23:31:19.376Z',   currentTime: '2025-11-25T23:31:19.377Z',   timeSinceMessage: '0s' }|
| 1764113479377 | 2025-11-25T23:31:19.377Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO === BEDROCK API CALL START ===|
| 1764113479377 | 2025-11-25T23:31:19.377Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO AWS Region: us-west-2|
| 1764113479377 | 2025-11-25T23:31:19.377Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO Model ID: us.anthropic.claude-haiku-4-5-20251001-v1:0|
| 1764113479377 | 2025-11-25T23:31:19.377Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO System prompt length: 4536|
| 1764113479377 | 2025-11-25T23:31:19.377Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO User message length: 404|
| 1764113479377 | 2025-11-25T23:31:19.377Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO Thinking enabled: false|
| 1764113479377 | 2025-11-25T23:31:19.377Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO Bedrock client config: { region: 'us-west-2' }|
| 1764113479377 | 2025-11-25T23:31:19.377Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO Environment variables: {   AWS_REGION: 'us-west-2',   AWS_DEFAULT_REGION: 'us-west-2',   AWS_LAMBDA_FUNCTION_NAME: 'amplify-neonpandaprotov1--buildworkoutlambda23D1E4-KFUp94ybUR20' }|
| 1764113479377 | 2025-11-25T23:31:19.377Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO üéØ Response prefilling enabled: {|
| 1764113479377 | 2025-11-25T23:31:19.377Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO Converse command created successfully..|
| 1764113479377 | 2025-11-25T23:31:19.377Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO About to call bedrockClient.send()...|
| 1764113479377 | 2025-11-25T23:31:19.377Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO Starting Bedrock API call with 60s timeout..|
| 1764113481459 | 2025-11-25T23:31:21.459Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO üíì Heartbeat #3: Workout Extraction in progress (30s elapsed)|
| 1764113482542 | 2025-11-25T23:31:22.542Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO bedrockClient.send() completed successfully|
| 1764113482542 | 2025-11-25T23:31:22.542Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO Response received from Bedrock|
| 1764113482542 | 2025-11-25T23:31:22.542Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO Response metadata: {   httpStatusCode: 200,   requestId: '95036c2b-b2f3-4cd5-ade0-15953afff669',   extendedRequestId: undefined,   cfId: undefined,   attempts: 1,   totalRetryDelay: 0 }|
| 1764113482543 | 2025-11-25T23:31:22.543Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO Response structure: {   hasOutput: true,   hasMessage: true,   hasContent: true,   contentLength: 1,   hasText: true,   textType: 'string',   contentFirstItem: {text: '\n' +'  "completedAt": "2025-11-25T12:00:00.000Z",\n' +'  "confidence": 0.85,\n' +`  "reasoning": "User states 'this morning' and specifies '7am - 7:45am ET'. Message typed at 2025-11-25T23:31:19Z (15:31 Pacific). The 7am ET time converts to 12pm UTC (7am ET = 12pm UTC). Since the message was typed at 3:31pm Pacific on Nov 25, and the user worked out 'this morning', the workout occurred on Nov 25 at 7am ET = 2025-11-25T12:00:00Z."\n` +'}'   } }|
| 1764113482543 | 2025-11-25T23:31:22.543Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO üéØ Prepended prefill text to response: { prefillText: '{', originalLength: 421, newLength: 422 }|
| 1764113482543 | 2025-11-25T23:31:22.543Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO Successfully extracted response text, length: 422|
| 1764113482543 | 2025-11-25T23:31:22.543Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO === BEDROCK API CALL SUCCESS ===|
| 1764113482543 | 2025-11-25T23:31:22.543Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO AI time extraction result: {   userMessage: 'I want to log a workout that I completed this morning. I did the following movements:\n' +'3 rounds\n' +'20 DL',   extractedTime: '2025-11-25T12:00:00.000Z',   confidence: 0.85,   reasoning: "User states 'this morning' and specifies '7am - 7:45am ET'. Message typed at 2025-11-25T23:31:19Z (15:31 Pacific). The 7am ET time converts to 12pm UTC (7am ET = 12pm UTC). Since the message was typed at 3:31pm Pacific on Nov 25, and the user worked out 'this morning', the workout occurred on Nov 25 at 7am ET = 2025-11-25T12:00:00Z." }|
| 1764113482543 | 2025-11-25T23:31:22.543Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO Workout timing analysis: {   userMessage: 'I want to log a workout that I completed this morning. I did the following movements:\n' +'3 rounds\n' +'20 DL',   userTimezone: 'America/Los_Angeles',   extractedTime: '2025-11-25T12:00:00.000Z',   finalCompletedAt: '2025-11-25T12:00:00.000Z',   workoutDate: '2025-11-25',   currentTime: '2025-11-25T23:31:22.543Z',   isToday: true,   daysDifference: 0 }|
| 1764113482543 | 2025-11-25T23:31:22.543Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO Generating workout summary..|
| 1764113482543 | 2025-11-25T23:31:22.543Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO === BEDROCK API CALL START ===|
| 1764113482543 | 2025-11-25T23:31:22.543Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO AWS Region: us-west-2|
| 1764113482543 | 2025-11-25T23:31:22.543Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO Model ID: us.anthropic.claude-sonnet-4-5-20250929-v1:0|
| 1764113482543 | 2025-11-25T23:31:22.543Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO System prompt length: 7124|
| 1764113482543 | 2025-11-25T23:31:22.543Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO User message length: 404|
| 1764113482543 | 2025-11-25T23:31:22.543Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO Thinking enabled: false|
| 1764113482543 | 2025-11-25T23:31:22.543Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO Bedrock client config: { region: 'us-west-2' }|
| 1764113482544 | 2025-11-25T23:31:22.544Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO Environment variables: {   AWS_REGION: 'us-west-2',   AWS_DEFAULT_REGION: 'us-west-2',   AWS_LAMBDA_FUNCTION_NAME: 'amplify-neonpandaprotov1--buildworkoutlambda23D1E4-KFUp94ybUR20' }|
| 1764113482544 | 2025-11-25T23:31:22.544Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO Converse command created successfully..|
| 1764113482544 | 2025-11-25T23:31:22.544Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO About to call bedrockClient.send()...|
| 1764113482544 | 2025-11-25T23:31:22.544Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO Starting Bedrock API call with 60s timeout..|
| 1764113486761 | 2025-11-25T23:31:26.761Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO bedrockClient.send() completed successfully|
| 1764113486761 | 2025-11-25T23:31:26.761Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO Response received from Bedrock|
| 1764113486761 | 2025-11-25T23:31:26.761Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO Response metadata: {   httpStatusCode: 200,   requestId: 'b51ed48c-aa22-476f-8277-17258bf6057d',   extendedRequestId: undefined,   cfId: undefined,   attempts: 1,   totalRetryDelay: 0 }|
| 1764113486761 | 2025-11-25T23:31:26.761Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO Response structure: {   hasOutput: true,   hasMessage: true,   hasContent: true,   contentLength: 1,   hasText: true,   textType: 'string',   contentFirstItem: {text: 'Completed "Gladiator Fortis" - a CrossFit for-time workout with 3 rounds of 20 deadlifts at 225# and 800m runs, finishing in 27 minutes. Solid strength-endurance performance maintaining 225# across all 60 total deadlift reps while covering 2400m of running. Trained at moderate-high intensity (7/10 intensity, 8/10 RPE) in home garage gym with suboptimal sleep recovery (6 hours).'   } }|
| 1764113486761 | 2025-11-25T23:31:26.761Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO Successfully extracted response text, length: 380|
| 1764113486761 | 2025-11-25T23:31:26.761Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO === BEDROCK API CALL SUCCESS ===|
| 1764113486761 | 2025-11-25T23:31:26.761Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO Generated summary: {   summary: 'Completed "Gladiator Fortis" - a CrossFit for-time workout with 3 rounds of 20 deadlifts at 225# and 800m runs, finishing in 27 minutes. Solid strength-endurance performance maintaining 225# across all 60 total deadlift reps while covering 2400m of running. Trained at moderate-high intensity (7/10 intensity, 8/10 RPE) in home garage gym with suboptimal sleep recovery (6 hours).',   length: 380 }|
| 1764113486761 | 2025-11-25T23:31:26.761Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO Saving workout to DynamoDB.. {   workoutId: 'workout_63gocaz-j-AYRsb0094ik_1764113476898_4jqzfxr1x',   discipline: 'crossfit',   workoutName: 'Gladiator Fortis',   confidence: 1,   completeness: 0.725,   detectionType: 'natural_language',   slashCommand: null,   normalizationSummary: 'Normalization skipped' }|
| 1764113486762 | 2025-11-25T23:31:26.762Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO Complete workout data being saved: {   workout: {workoutId: 'workout_63gocaz-j-AYRsb0094ik_1764113476898_4jqzfxr1x',userId: '63gocaz-j-AYRsb0094ik',conversationId: 'conv_1763761119267_ek3vk5fw0',completedAt: 2025-11-25T12:00:00.000Z,extractionMetadata: {confidence: 1,extractedAt: 2025-11-25T23:31:26.761Z,reviewedBy: 'system',reviewedAt: 2025-11-25T23:31:26.761Z,normalizationSummary: 'Normalization skipped'}   },   workoutData: {user_id: '63gocaz-j-AYRsb0094ik',workout_id: 'workout_63gocaz-j-AYRsb0094ik_1764113476898_4jqzfxr1x',date: '2025-11-25',discipline: 'crossfit',workout_type: 'hybrid',workout_name: 'Gladiator Fortis',location: 'home',duration: 1620,session_duration: 2700,discipline_specific: { crossfit: [Object] },performance_metrics: { intensity: 7, perceived_exertion: 8, calories_burned: 240 },recovery_metrics: { sleep_hours: 6 },subjective_feedback: {notes: 'Completed 3 rounds for time. Total workout duration 27 minutes. Session included warmup from 7:00-7:45am ET.'},coach_id: 'coach_victoria_masters',coach_notes: {programming_intent: 'Strength-endurance couplet combining heavy deadlifts with moderate distance running to develop work capacity and mental toughness',positive_observations: [Array],areas_for_improvement: [Array],coaching_cues_given: [],adaptation_recommendations: [Array],safety_flags: [],next_session_focus: 'Monitor lower back and hamstring recovery given high deadlift volume. Consider active recovery or mobility work tomorrow.',motivation_strategy: 'Strong work capacity session completed - this type of workout builds the engine needed for competition performance'},metadata: {logged_via: 'conversation',data_confidence: 1,ai_extracted: true,user_verified: false,version: '1.0',schema_version: '2.0',extraction_method: 'claude_conversation_analysis',generation_method: 'tool',generation_timestamp: '2025-11-25T23:31:17.013Z',validation_flags: [],extraction_notes: "User provided explicit workout details including movements, rounds, weights, duration, and contextual metrics. Workout completed this morning (Tuesday, November 25, 2025) from 7:00-7:45am ET. Actual workout duration was 27 minutes (1620 seconds) with total session time of 45 minutes (2700 seconds) including warmup. CrossFit-style for-time workout with 3 rounds of 20 deadlifts at 225# and 800m run. User reported intensity 7/10, RPE 8/10, estimated 240 calories burned, and 6 hours sleep previous night. High confidence in data extraction (0.95) due to explicit details provided. Named workout 'Gladiator Fortis' as no specific name was provided by user (Latin-inspired naming convention for memorable workout identification).",data_completeness: 0.725},discipline_specific_summary: {disciplines: [Array],crossfit_details: '{"workout_format":"for_time","rx_status":"rx","time_cap":null,"rounds":[{"round_number":1,"exercises":[{"exercise_name":"deadlift","movement_type":"barbell","reps":{"prescribed":20,"completed":20},"weight":{"value":225,"unit":"lbs"}},{"exercise_name":"run","movement_type":"cardio","distance":800,"reps":{"prescribed":1,"completed":1},"weight":{"value":null,"unit":"lbs"}}]},{"round_number":2,"exercises":[{"exercise_name":"deadlift","movement_type":"barbell","reps":{"prescribed":20,"completed":20},...'}   } }  |
| 1764113486763 | 2025-11-25T23:31:26.763Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO üîÑ Attempting Save workout to DynamoDB (attempt 1/6)|
| 1764113486837 | 2025-11-25T23:31:26.837Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO Workout saved successfully: {   workoutId: 'workout_63gocaz-j-AYRsb0094ik_1764113476898_4jqzfxr1x',   userId: '63gocaz-j-AYRsb0094ik',   discipline: 'crossfit',   completedAt: 2025-11-25T12:00:00.000Z,   groupId: 'none',   templateId: 'none' }|
| 1764113486838 | 2025-11-25T23:31:26.838Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO üìù Storing workout summary in Pinecone..|
| 1764113486841 | 2025-11-25T23:31:26.841Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO üßπ Sanitized Pinecone metadata: {   originalKeys: 24,   sanitizedKeys: 24,   recordId: 'workout_63gocaz-j-AYRsb0094ik_1764113476898_4jqzfxr1x' }|
| 1764113487584 | 2025-11-25T23:31:27.584Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO Successfully stored context in Pinecone: {   indexName: 'coach-creator-proto-v1-dev',   namespace: 'user_63gocaz-j-AYRsb0094ik',   recordId: 'workout_63gocaz-j-AYRsb0094ik_1764113476898_4jqzfxr1x',   userId: '63gocaz-j-AYRsb0094ik',   contentLength: 380 }|
| 1764113487585 | 2025-11-25T23:31:27.585Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO ‚úÖ Successfully stored workout summary in Pinecone: {   workoutId: 'workout_63gocaz-j-AYRsb0094ik_1764113476898_4jqzfxr1x',   recordId: 'workout_63gocaz-j-AYRsb0094ik_1764113476898_4jqzfxr1x',   namespace: 'user_63gocaz-j-AYRsb0094ik',   discipline: 'crossfit',   summaryLength: 380 }|
| 1764113487585 | 2025-11-25T23:31:27.585Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO ‚úÖ Workout extraction completed successfully: {   workoutId: 'workout_63gocaz-j-AYRsb0094ik_1764113476898_4jqzfxr1x',   discipline: 'crossfit',   workoutName: 'Gladiator Fortis',   confidence: 1,   validationFlags: [],   normalizationSummary: 'Normalization skipped',   pineconeStored: true,   pineconeRecordId: 'workout_63gocaz-j-AYRsb0094ik_1764113476898_4jqzfxr1x',   templateLinked: false }|
| 1764113487585 | 2025-11-25T23:31:27.585Z 4f6b8452-9291-4a4d-865a-b38cf1098c03 INFO üíì Heartbeat stopped for Workout Extraction: 3 beats (30s total)|
| 1764113487588 | END RequestId: 4f6b8452-9291-4a4d-865a-b38cf1098c03|
| 1764113487588 | REPORT RequestId: 4f6b8452-9291-4a4d-865a-b38cf1098c03 Duration: 36138.70 ms Billed Duration: 36647 ms Memory Size: 2048 MB Max Memory Used: 122 MB Init Duration: 507.88 ms|
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------