--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
|   timestamp   |message|
|---------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 1764194058949 | INIT_START Runtime Version: nodejs:22.v68 Runtime Version ARN: arn:aws:lambda:us-west-2::runtime:685b5bdd1a5972cbde591187200f592fbd417cd448d71e500b10e41759692493|
| 1764194059402 | 2025-11-26T21:54:19.402Z undefined INFO üîß PINECONE_API_KEY validation: {   exists: true,   length: 75,   isPlaceholder: false,   prefix: 'pcsk_4tHp6N_' }|
| 1764194059443 | START RequestId: a96c3c29-c519-48b0-9e1b-fe987c2721f0 Version: $LATEST|
| 1764194059445 | 2025-11-26T21:54:19.445Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO üíì Starting heartbeat monitoring for: Workout Extraction (10s interval)|
| 1764194059446 | 2025-11-26T21:54:19.446Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO üèãÔ∏è Starting workout extraction: {   userId: '63gocaz-j-AYRsb0094ik',   coachId: 'user_63gocaz-j-AYRsb0094ik_coach_1756078034317',   conversationId: 'conv_1763761119267_ek3vk5fw0',   messageLength: 355,   coachName: 'Victoria The Masters Champion',   detectionType: 'natural_language',   slashCommand: null,   hasImages: false,   imageCount: 0,   timestamp: '2025-11-26T21:54:19.446Z' }|
| 1764194059485 | 2025-11-26T21:54:19.485Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO Generated extraction prompt: {   promptLength: 25022,   userMessage: 'i want to log a workout that I completed this morning. i did the following workout:\n' +'8 rounds\n' +'Min 1: 6 bench press @ 205#\n' +'Min 2: 6 pull-ups\n' +'Min 3: 30 DUs Including warmup I worked out for 30 minutes. For the 8 rounds I completed it in 24 minutes. My intensity was 6 and rpe was 6. I did the workout in my home garage gym. I got 6 hours of sleep last night.' }|
| 1764194059486 | 2025-11-26T21:54:19.486Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO Calling Claude for workout extraction..|
| 1764194059486 | 2025-11-26T21:54:19.486Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO Workout complexity analysis: {   phaseMatches: 1,   complexMatches: 1,   contentLength: 355,   isComplex: false }|
| 1764194059487 | 2025-11-26T21:54:19.487Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO Extraction configuration: { isComplexWorkout: false, enableThinking: false, workoutLength: 355 }|
| 1764194059487 | 2025-11-26T21:54:19.487Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO üéØ Attempting tool-based workout extraction|
| 1764194059487 | 2025-11-26T21:54:19.487Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO === BEDROCK API CALL START ===|
| 1764194059487 | 2025-11-26T21:54:19.487Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO AWS Region: us-west-2|
| 1764194059488 | 2025-11-26T21:54:19.488Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO Model ID: us.anthropic.claude-sonnet-4-5-20250929-v1:0|
| 1764194059488 | 2025-11-26T21:54:19.488Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO System prompt length: 25022|
| 1764194059488 | 2025-11-26T21:54:19.488Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO User message length: 355|
| 1764194059488 | 2025-11-26T21:54:19.488Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO Thinking enabled: false|
| 1764194059488 | 2025-11-26T21:54:19.488Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO Bedrock client config: { region: 'us-west-2' }|
| 1764194059488 | 2025-11-26T21:54:19.488Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO Environment variables: {   AWS_REGION: 'us-west-2',   AWS_DEFAULT_REGION: 'us-west-2',   AWS_LAMBDA_FUNCTION_NAME: 'amplify-neonpandaprotov1--buildworkoutlambda23D1E4-KFUp94ybUR20' }|
| 1764194059488 | 2025-11-26T21:54:19.488Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO Converse command created successfully..|
| 1764194059488 | 2025-11-26T21:54:19.488Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO About to call bedrockClient.send()...|
| 1764194059489 | 2025-11-26T21:54:19.489Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO Starting Bedrock API call with 60s timeout..|
| 1764194064494 | 2025-11-26T21:54:24.494Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO HEARTBEAT: Lambda still running, waiting for Bedrock response..|
| 1764194069447 | 2025-11-26T21:54:29.447Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO üíì Heartbeat #1: Workout Extraction in progress (10s elapsed)|
| 1764194069493 | 2025-11-26T21:54:29.493Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO HEARTBEAT: Lambda still running, waiting for Bedrock response..|
| 1764194074499 | 2025-11-26T21:54:34.499Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO HEARTBEAT: Lambda still running, waiting for Bedrock response..|
| 1764194079451 | 2025-11-26T21:54:39.451Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO üíì Heartbeat #2: Workout Extraction in progress (20s elapsed)|
| 1764194079499 | 2025-11-26T21:54:39.499Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO HEARTBEAT: Lambda still running, waiting for Bedrock response..|
| 1764194084499 | 2025-11-26T21:54:44.499Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO HEARTBEAT: Lambda still running, waiting for Bedrock response..|
| 1764194085567 | 2025-11-26T21:54:45.567Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO bedrockClient.send() completed successfully|
| 1764194085567 | 2025-11-26T21:54:45.567Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO Response received from Bedrock|
| 1764194085567 | 2025-11-26T21:54:45.567Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO Response metadata: {   httpStatusCode: 200,   requestId: 'e21819f6-6b04-488e-bc23-dcc1ba7a20b9',   extendedRequestId: undefined,   cfId: undefined,   attempts: 1,   totalRetryDelay: 0 }|
| 1764194085568 | 2025-11-26T21:54:45.568Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO Response structure: {   hasOutput: true,   hasMessage: true,   hasContent: true,   contentLength: 2,   hasText: true,   textType: 'string',   contentFirstItem: {text: "I'll log this EMOM workout for you from this morning. Let me structure this data properly."   } }|
| 1764194085568 | 2025-11-26T21:54:45.568Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO üîß Tool use requested, extracting tool result|
| 1764194085568 | 2025-11-26T21:54:45.568Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO ‚úÖ Tool-based extraction succeeded|
| 1764194085670 | 2025-11-26T21:54:45.670Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO Successfully stored debug data in S3: {   bucket: 'midgard-sandbox-logs',   key: 'sandbox-abb89311/workout-extraction/2025-11-26T21-54-45-568Z_63gocaz-j-AYRsb0094ik_workout-extraction-tool-success.txt',   contentLength: 10332,   metadataKeys: ['type','method','userId','conversationId','coachId','discipline','isComplexWorkout','enableThinking'   ] }|
| 1764194085670 | 2025-11-26T21:54:45.670Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO Extraction completed: {   method: 'tool',   workoutId: 'workout_63gocaz-j-AYRsb0094ik_1764194085568_s3s1ai7mi',   discipline: 'crossfit',   workoutName: 'Fortis Triad' }|
| 1764194085670 | 2025-11-26T21:54:45.670Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO Parsed workout data structure: {   basicInfo: {workoutId: 'workout_63gocaz-j-AYRsb0094ik_1764194085568_s3s1ai7mi',discipline: 'crossfit',workoutName: 'Fortis Triad',workoutType: 'hybrid',duration: 1440,location: 'home'   },   performanceMetrics: 'Present',   disciplineSpecific: [ 'crossfit' ],   crossfitData: {workoutFormat: 'emom',rxStatus: 'rx',roundsCount: 8,performanceData: 'Present'   },   metadataCompleteness: undefined,   validationFlags: 0 }|
| 1764194085670 | 2025-11-26T21:54:45.670Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO üîç Normalization decision analysis: {   hasCorrectStructure: true,   extractionConfidence: 0.9999999999999999,   isComplex: true,   workoutId: 'workout_63gocaz-j-AYRsb0094ik_1764194085568_s3s1ai7mi',   discipline: 'crossfit' }|
| 1764194085671 | 2025-11-26T21:54:45.671Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO üîß Normalization required: complex workout needs validation|
| 1764194085671 | 2025-11-26T21:54:45.671Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO üîß Running normalization on workout data.. {   reason: 'structural_check',   confidence: 0.9999999999999999,   hasCoachNotes: false,   hasDisciplineSpecific: true }|
| 1764194085671 | 2025-11-26T21:54:45.671Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO üîß Starting workout normalization: {   userId: '63gocaz-j-AYRsb0094ik',   workoutId: 'workout_63gocaz-j-AYRsb0094ik_1764194085568_s3s1ai7mi',   discipline: 'crossfit' }|
| 1764194085672 | 2025-11-26T21:54:45.672Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO Normalization call configuration: { enableThinking: false, promptLength: 45370, promptSizeKB: '44.3KB' }|
| 1764194085672 | 2025-11-26T21:54:45.672Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO üéØ Attempting tool-based workout normalization|
| 1764194085673 | 2025-11-26T21:54:45.673Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO === BEDROCK API CALL START ===|
| 1764194085673 | 2025-11-26T21:54:45.673Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO AWS Region: us-west-2|
| 1764194085673 | 2025-11-26T21:54:45.673Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO Model ID: us.anthropic.claude-sonnet-4-5-20250929-v1:0|
| 1764194085673 | 2025-11-26T21:54:45.673Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO System prompt length: 45370|
| 1764194085673 | 2025-11-26T21:54:45.673Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO User message length: 21|
| 1764194085673 | 2025-11-26T21:54:45.673Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO Thinking enabled: false|
| 1764194085673 | 2025-11-26T21:54:45.673Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO Bedrock client config: { region: 'us-west-2' }|
| 1764194085673 | 2025-11-26T21:54:45.673Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO Environment variables: {   AWS_REGION: 'us-west-2',   AWS_DEFAULT_REGION: 'us-west-2',   AWS_LAMBDA_FUNCTION_NAME: 'amplify-neonpandaprotov1--buildworkoutlambda23D1E4-KFUp94ybUR20' }|
| 1764194085673 | 2025-11-26T21:54:45.673Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO Converse command created successfully..|
| 1764194085673 | 2025-11-26T21:54:45.673Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO About to call bedrockClient.send()...|
| 1764194085674 | 2025-11-26T21:54:45.674Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO Starting Bedrock API call with 60s timeout..|
| 1764194089453 | 2025-11-26T21:54:49.453Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO üíì Heartbeat #3: Workout Extraction in progress (30s elapsed)|
| 1764194090675 | 2025-11-26T21:54:50.675Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO HEARTBEAT: Lambda still running, waiting for Bedrock response..|
| 1764194095677 | 2025-11-26T21:54:55.677Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO HEARTBEAT: Lambda still running, waiting for Bedrock response..|
| 1764194099457 | 2025-11-26T21:54:59.457Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO üíì Heartbeat #4: Workout Extraction in progress (40s elapsed)|
| 1764194100678 | 2025-11-26T21:55:00.678Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO HEARTBEAT: Lambda still running, waiting for Bedrock response..|
| 1764194105683 | 2025-11-26T21:55:05.683Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO HEARTBEAT: Lambda still running, waiting for Bedrock response..|
| 1764194109458 | 2025-11-26T21:55:09.458Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO üíì Heartbeat #5: Workout Extraction in progress (50s elapsed)|
| 1764194110685 | 2025-11-26T21:55:10.685Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO HEARTBEAT: Lambda still running, waiting for Bedrock response..|
| 1764194115690 | 2025-11-26T21:55:15.690Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO HEARTBEAT: Lambda still running, waiting for Bedrock response..|
| 1764194119458 | 2025-11-26T21:55:19.458Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO üíì Heartbeat #6: Workout Extraction in progress (60s elapsed)|
| 1764194120691 | 2025-11-26T21:55:20.691Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO HEARTBEAT: Lambda still running, waiting for Bedrock response..|
| 1764194125691 | 2025-11-26T21:55:25.691Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO HEARTBEAT: Lambda still running, waiting for Bedrock response..|
| 1764194129462 | 2025-11-26T21:55:29.462Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO üíì Heartbeat #7: Workout Extraction in progress (70s elapsed)|
| 1764194129649 | 2025-11-26T21:55:29.649Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO bedrockClient.send() completed successfully|
| 1764194129650 | 2025-11-26T21:55:29.650Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO Response received from Bedrock|
| 1764194129650 | 2025-11-26T21:55:29.650Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO Response metadata: {   httpStatusCode: 200,   requestId: '92221ec3-c666-4aaa-8a62-9b3afba47d60',   extendedRequestId: undefined,   cfId: undefined,   attempts: 1,   totalRetryDelay: 0 }|
| 1764194129650 | 2025-11-26T21:55:29.650Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO Response structure: {   hasOutput: true,   hasMessage: true,   hasContent: true,   contentLength: 1,   hasText: false,   textType: 'undefined',   contentFirstItem: {toolUse: {toolUseId: 'tooluse_T1gnSsWKSO-xZLu66YpmMA',name: 'normalize_workout',input: [Object],type: 'tool_use'}   } }|
| 1764194129650 | 2025-11-26T21:55:29.650Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO üîß Tool use requested, extracting tool result|
| 1764194129650 | 2025-11-26T21:55:29.650Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO ‚úÖ Tool-based normalization succeeded|
| 1764194129650 | 2025-11-26T21:55:29.650Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO Normalization completed: { method: 'tool', isValid: undefined, issues: 0 }|
| 1764194129650 | 2025-11-26T21:55:29.650Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO Normalization completed: {   isValid: true,   issuesFound: 0,   correctionsMade: 0,   normalizationConfidence: 0.8,   summary: 'Normalization PASSED (confidence: 0.80)' }|
| 1764194129651 | 2025-11-26T21:55:29.651Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO Classifying discipline as qualitative/quantitative: { discipline: 'crossfit', hasWorkoutContext: true }|
| 1764194129651 | 2025-11-26T21:55:29.651Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO === BEDROCK API CALL START ===|
| 1764194129651 | 2025-11-26T21:55:29.651Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO AWS Region: us-west-2|
| 1764194129651 | 2025-11-26T21:55:29.651Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO Model ID: us.anthropic.claude-haiku-4-5-20251001-v1:0|
| 1764194129651 | 2025-11-26T21:55:29.651Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO System prompt length: 2796|
| 1764194129651 | 2025-11-26T21:55:29.651Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO User message length: 8|
| 1764194129651 | 2025-11-26T21:55:29.651Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO Thinking enabled: false|
| 1764194129651 | 2025-11-26T21:55:29.651Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO Bedrock client config: { region: 'us-west-2' }|
| 1764194129651 | 2025-11-26T21:55:29.651Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO Environment variables: {   AWS_REGION: 'us-west-2',   AWS_DEFAULT_REGION: 'us-west-2',   AWS_LAMBDA_FUNCTION_NAME: 'amplify-neonpandaprotov1--buildworkoutlambda23D1E4-KFUp94ybUR20' }|
| 1764194129651 | 2025-11-26T21:55:29.651Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO Converse command created successfully..|
| 1764194129651 | 2025-11-26T21:55:29.651Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO About to call bedrockClient.send()...|
| 1764194129651 | 2025-11-26T21:55:29.651Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO Starting Bedrock API call with 60s timeout..|
| 1764194131404 | 2025-11-26T21:55:31.404Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO bedrockClient.send() completed successfully|
| 1764194131404 | 2025-11-26T21:55:31.404Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO Response received from Bedrock|
| 1764194131404 | 2025-11-26T21:55:31.404Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO Response metadata: {   httpStatusCode: 200,   requestId: '0bdeebe1-f323-4a2a-8ed5-4c73853aedfa',   extendedRequestId: undefined,   cfId: undefined,   attempts: 1,   totalRetryDelay: 0 }|
| 1764194131404 | 2025-11-26T21:55:31.404Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO Response structure: {   hasOutput: true,   hasMessage: true,   hasContent: true,   contentLength: 1,   hasText: true,   textType: 'string',   contentFirstItem: {text: '```json\n' +'{\n' +'  "isQualitative": false,\n' +'  "requiresPreciseMetrics": true,\n' +'  "environment": "indoor",\n' +'  "primaryFocus": "mixed",\n' +'  "confidence": 0.95,\n' +'  "reasoning": "CrossFit is a quantitative discipline requiring precise tracking of weights, reps, times, and distances for progression and competition. It emphasizes mixed fitness components (strength, power, endurance, speed) with measurable performance metrics as core to the methodology."\n' +'}\n' +'```'   } }|
| 1764194131404 | 2025-11-26T21:55:31.404Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO Successfully extracted response text, length: 444|
| 1764194131404 | 2025-11-26T21:55:31.404Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO === BEDROCK API CALL SUCCESS ===|
| 1764194131472 | 2025-11-26T21:55:31.472Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO Successfully stored debug data in S3: {   bucket: 'midgard-sandbox-logs',   key: 'sandbox-abb89311/workout-discipline/2025-11-26T21-55-31-404Z_unknown_discipline-classification-prompt.txt',   contentLength: 2796,   metadataKeys: ['discipline','hasWorkoutContext','workoutName','workoutType','promptLength','type'   ] }|
| 1764194131495 | 2025-11-26T21:55:31.495Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO Successfully stored debug data in S3: {   bucket: 'midgard-sandbox-logs',   key: 'sandbox-abb89311/workout-discipline/2025-11-26T21-55-31-472Z_unknown_discipline-classification-response.txt',   contentLength: 444,   metadataKeys: [ 'discipline', 'responseLength', 'type' ] }|
| 1764194131495 | 2025-11-26T21:55:31.495Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO ‚úÖ Stored discipline classification prompt + response in S3|
| 1764194131496 | 2025-11-26T21:55:31.496Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO ‚úÖ Stripped non-JSON text from response {   originalLength: 444,   extractedLength: 432,   removedPrefix: true,   removedSuffix: true }|
| 1764194131496 | 2025-11-26T21:55:31.496Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO AI discipline classification result: {   discipline: 'crossfit',   isQualitative: false,   requiresPreciseMetrics: true,   environment: 'indoor',   primaryFocus: 'mixed',   confidence: 0.95,   reasoning: 'CrossFit is a quantitative discipline requiring precise tracking of weights, reps, times, and distances for progression and competition. It emphasizes mixed fitness components (strength, power, endurance, speed) with measurable performance metrics as core to the methodology.' }|
| 1764194131497 | 2025-11-26T21:55:31.497Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO Extracting workout completion time using Nova Micro: {   userMessage: 'i want to log a workout that I completed this morning. i did the following workout:\n' +'8 rounds\n' +'Min 1: ',   messageTimestamp: '2025-11-26T21:55:31.497Z',   currentTime: '2025-11-26T21:55:31.497Z',   timeSinceMessage: '0s' }|
| 1764194131497 | 2025-11-26T21:55:31.497Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO === BEDROCK API CALL START ===|
| 1764194131497 | 2025-11-26T21:55:31.497Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO AWS Region: us-west-2|
| 1764194131497 | 2025-11-26T21:55:31.497Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO Model ID: us.anthropic.claude-haiku-4-5-20251001-v1:0|
| 1764194131497 | 2025-11-26T21:55:31.497Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO System prompt length: 4489|
| 1764194131497 | 2025-11-26T21:55:31.497Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO User message length: 355|
| 1764194131497 | 2025-11-26T21:55:31.497Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO Thinking enabled: false|
| 1764194131497 | 2025-11-26T21:55:31.497Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO Bedrock client config: { region: 'us-west-2' }|
| 1764194131497 | 2025-11-26T21:55:31.497Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO Environment variables: {   AWS_REGION: 'us-west-2',   AWS_DEFAULT_REGION: 'us-west-2',   AWS_LAMBDA_FUNCTION_NAME: 'amplify-neonpandaprotov1--buildworkoutlambda23D1E4-KFUp94ybUR20' }|
| 1764194131497 | 2025-11-26T21:55:31.497Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO üéØ Response prefilling enabled: {|
| 1764194131498 | 2025-11-26T21:55:31.498Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO Converse command created successfully..|
| 1764194131498 | 2025-11-26T21:55:31.498Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO About to call bedrockClient.send()...|
| 1764194131498 | 2025-11-26T21:55:31.498Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO Starting Bedrock API call with 60s timeout..|
| 1764194134026 | 2025-11-26T21:55:34.026Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO bedrockClient.send() completed successfully|
| 1764194134026 | 2025-11-26T21:55:34.026Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO Response received from Bedrock|
| 1764194134026 | 2025-11-26T21:55:34.026Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO Response metadata: {   httpStatusCode: 200,   requestId: '5d542037-cae9-4032-8469-e82bbf355a8d',   extendedRequestId: undefined,   cfId: undefined,   attempts: 1,   totalRetryDelay: 0 }|
| 1764194134026 | 2025-11-26T21:55:34.026Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO Response structure: {   hasOutput: true,   hasMessage: true,   hasContent: true,   contentLength: 1,   hasText: true,   textType: 'string',   contentFirstItem: {text: '\n' +'  "completedAt": "2025-11-26T17:00:00.000Z",\n' +'  "confidence": 0.75,\n' +`  "reasoning": "User says 'this morning' and message was typed at 13:55:31 Pacific (21:55:31 UTC) on Nov 26. 'This morning' relative to 1:55 PM local time indicates earlier the same day. Estimated morning workout completion at approximately 9 AM Pacific time (17:00 UTC), accounting for typical morning workout timing and the 6 hours of sleep mentioned (suggesting early bedtime night before)."\n` +'}'   } }|
| 1764194134026 | 2025-11-26T21:55:34.026Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO üéØ Prepended prefill text to response: { prefillText: '{', originalLength: 464, newLength: 465 }|
| 1764194134026 | 2025-11-26T21:55:34.026Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO Successfully extracted response text, length: 465|
| 1764194134026 | 2025-11-26T21:55:34.026Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO === BEDROCK API CALL SUCCESS ===|
| 1764194134027 | 2025-11-26T21:55:34.027Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO AI time extraction result: {   userMessage: 'i want to log a workout that I completed this morning. i did the following workout:\n' +'8 rounds\n' +'Min 1: ',   extractedTime: '2025-11-26T17:00:00.000Z',   confidence: 0.75,   reasoning: "User says 'this morning' and message was typed at 13:55:31 Pacific (21:55:31 UTC) on Nov 26. 'This morning' relative to 1:55 PM local time indicates earlier the same day. Estimated morning workout completion at approximately 9 AM Pacific time (17:00 UTC), accounting for typical morning workout timing and the 6 hours of sleep mentioned (suggesting early bedtime night before)." }|
| 1764194134027 | 2025-11-26T21:55:34.027Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO Workout timing analysis: {   userMessage: 'i want to log a workout that I completed this morning. i did the following workout:\n' +'8 rounds\n' +'Min 1: ',   userTimezone: 'America/Los_Angeles',   extractedTime: '2025-11-26T17:00:00.000Z',   finalCompletedAt: '2025-11-26T17:00:00.000Z',   workoutDate: '2025-11-26',   currentTime: '2025-11-26T21:55:34.027Z',   isToday: true,   daysDifference: 0 }|
| 1764194134027 | 2025-11-26T21:55:34.027Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO Generating workout summary..|
| 1764194134027 | 2025-11-26T21:55:34.027Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO === BEDROCK API CALL START ===|
| 1764194134027 | 2025-11-26T21:55:34.027Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO AWS Region: us-west-2|
| 1764194134027 | 2025-11-26T21:55:34.027Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO Model ID: us.anthropic.claude-sonnet-4-5-20250929-v1:0|
| 1764194134027 | 2025-11-26T21:55:34.027Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO System prompt length: 11782|
| 1764194134027 | 2025-11-26T21:55:34.027Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO User message length: 355|
| 1764194134027 | 2025-11-26T21:55:34.027Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO Thinking enabled: false|
| 1764194134027 | 2025-11-26T21:55:34.027Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO Bedrock client config: { region: 'us-west-2' }|
| 1764194134027 | 2025-11-26T21:55:34.027Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO Environment variables: {   AWS_REGION: 'us-west-2',   AWS_DEFAULT_REGION: 'us-west-2',   AWS_LAMBDA_FUNCTION_NAME: 'amplify-neonpandaprotov1--buildworkoutlambda23D1E4-KFUp94ybUR20' }|
| 1764194134027 | 2025-11-26T21:55:34.027Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO Converse command created successfully..|
| 1764194134027 | 2025-11-26T21:55:34.027Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO About to call bedrockClient.send()...|
| 1764194134027 | 2025-11-26T21:55:34.027Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO Starting Bedrock API call with 60s timeout..|
| 1764194137999 | 2025-11-26T21:55:37.999Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO bedrockClient.send() completed successfully|
| 1764194137999 | 2025-11-26T21:55:37.999Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO Response received from Bedrock|
| 1764194137999 | 2025-11-26T21:55:37.999Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO Response metadata: {   httpStatusCode: 200,   requestId: '34236cb3-774f-40e9-aec9-b27e6fd709a7',   extendedRequestId: undefined,   cfId: undefined,   attempts: 1,   totalRetryDelay: 0 }|
| 1764194137999 | 2025-11-26T21:55:37.999Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO Response structure: {   hasOutput: true,   hasMessage: true,   hasContent: true,   contentLength: 1,   hasText: true,   textType: 'string',   contentFirstItem: {text: 'Completed "Fortis Triad" - an 8-round EMOM featuring bench press (6 reps @ 205#), pull-ups (6 reps), and double unders (30 reps) in 24 minutes. Solid performance completing all 8 rounds as prescribed with 336 total reps, maintaining moderate intensity (6/10) throughout the home garage session.'   } }|
| 1764194137999 | 2025-11-26T21:55:37.999Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO Successfully extracted response text, length: 294|
| 1764194137999 | 2025-11-26T21:55:37.999Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO === BEDROCK API CALL SUCCESS ===|
| 1764194137999 | 2025-11-26T21:55:37.999Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO Generated summary: {   summary: 'Completed "Fortis Triad" - an 8-round EMOM featuring bench press (6 reps @ 205#), pull-ups (6 reps), and double unders (30 reps) in 24 minutes. Solid performance completing all 8 rounds as prescribed with 336 total reps, maintaining moderate intensity (6/10) throughout the home garage session.',   length: 294 }|
| 1764194137999 | 2025-11-26T21:55:37.999Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO Saving workout to DynamoDB.. {   workoutId: 'workout_63gocaz-j-AYRsb0094ik_1764194085568_s3s1ai7mi',   discipline: 'crossfit',   workoutName: 'Fortis Triad',   confidence: 0.9999999999999999,   completeness: 0.575,   detectionType: 'natural_language',   slashCommand: null,   normalizationSummary: 'Normalization PASSED (confidence: 0.80)' }|
| 1764194137999 | 2025-11-26T21:55:37.999Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO Complete workout data being saved: {   workout: {workoutId: 'workout_63gocaz-j-AYRsb0094ik_1764194085568_s3s1ai7mi',userId: '63gocaz-j-AYRsb0094ik',conversationId: 'conv_1763761119267_ek3vk5fw0',completedAt: 2025-11-26T17:00:00.000Z,extractionMetadata: {confidence: 0.9999999999999999,extractedAt: 2025-11-26T21:55:37.999Z,reviewedBy: 'system',reviewedAt: 2025-11-26T21:55:37.999Z,normalizationSummary: 'Normalization PASSED (confidence: 0.80)'}   },   workoutData: {date: '2025-11-26',discipline: 'crossfit',workout_type: 'hybrid',workout_name: 'Fortis Triad',location: 'home',duration: 1440,session_duration: 1800,discipline_specific: { crossfit: [Object] },performance_metrics: { intensity: 6, perceived_exertion: 6 },recovery_metrics: { sleep_hours: 6 },metadata: {logged_via: 'conversation',data_confidence: 0.9999999999999999,ai_extracted: true,user_verified: false,version: '1.0',schema_version: '2.0',extraction_method: 'claude_conversation_analysis',generation_method: 'tool',generation_timestamp: '2025-11-26T21:54:45.670Z',validation_flags: [],extraction_notes: 'User completed an EMOM workout this morning (Wednesday, November 26, 2025). Workout structure: 3-minute EMOM repeated for 8 rounds (Min 1: bench press, Min 2: pull-ups, Min 3: double unders). User explicitly stated 8 rounds completed in 24 minutes (1440 seconds), with total session time of 30 minutes including warmup (1800 seconds). Created 8 separate round objects as per EMOM structure requirements. Total reps calculated: (6 bench + 6 pull-ups + 30 DUs) √ó 8 rounds = 336 total reps. Intensity and RPE both rated 6/10. Sleep: 6 hours previous night. High confidence in all data points as user provided explicit details.',data_completeness: 0.575},user_id: '63gocaz-j-AYRsb0094ik',workout_id: 'workout_63gocaz-j-AYRsb0094ik_1764194085568_s3s1ai7mi',discipline_specific_summary: {disciplines: [Array],crossfit_details: '{"workout_format":"emom","rx_status":"rx","time_cap":1440,"rounds":[{"round_number":1,"exercises":[{"exercise_name":"bench press","movement_type":"barbell","reps":{"prescribed":6,"completed":6},"weight":{"value":205,"unit":"lbs"}},{"exercise_name":"pull-ups","movement_type":"gymnastics","reps":{"prescribed":6,"completed":6},"weight":{"value":null,"unit":"lbs"}},{"exercise_name":"double unders","movement_type":"cardio","reps":{"prescribed":30,"completed":30},"weight":{"value":null,"unit":"lbs"}}]...'}   } }  |
| 1764194138000 | 2025-11-26T21:55:38.000Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO üîÑ Attempting Save workout to DynamoDB (attempt 1/6)|
| 1764194138102 | 2025-11-26T21:55:38.102Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO Workout saved successfully: {   workoutId: 'workout_63gocaz-j-AYRsb0094ik_1764194085568_s3s1ai7mi',   userId: '63gocaz-j-AYRsb0094ik',   discipline: 'crossfit',   completedAt: 2025-11-26T17:00:00.000Z,   groupId: 'none',   templateId: 'none' }|
| 1764194138102 | 2025-11-26T21:55:38.102Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO üìù Storing workout summary in Pinecone..|
| 1764194138105 | 2025-11-26T21:55:38.105Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO üßπ Sanitized Pinecone metadata: {   originalKeys: 24,   sanitizedKeys: 24,   recordId: 'workout_63gocaz-j-AYRsb0094ik_1764194085568_s3s1ai7mi' }|
| 1764194139463 | 2025-11-26T21:55:39.463Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO üíì Heartbeat #8: Workout Extraction in progress (80s elapsed)|
| 1764194141269 | 2025-11-26T21:55:41.269Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO Successfully stored context in Pinecone: {   indexName: 'coach-creator-proto-v1-dev',   namespace: 'user_63gocaz-j-AYRsb0094ik',   recordId: 'workout_63gocaz-j-AYRsb0094ik_1764194085568_s3s1ai7mi',   userId: '63gocaz-j-AYRsb0094ik',   contentLength: 294 }|
| 1764194141270 | 2025-11-26T21:55:41.270Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO ‚úÖ Successfully stored workout summary in Pinecone: {   workoutId: 'workout_63gocaz-j-AYRsb0094ik_1764194085568_s3s1ai7mi',   recordId: 'workout_63gocaz-j-AYRsb0094ik_1764194085568_s3s1ai7mi',   namespace: 'user_63gocaz-j-AYRsb0094ik',   discipline: 'crossfit',   summaryLength: 294 }|
| 1764194141270 | 2025-11-26T21:55:41.270Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO ‚úÖ Workout extraction completed successfully: {   workoutId: 'workout_63gocaz-j-AYRsb0094ik_1764194085568_s3s1ai7mi',   discipline: 'crossfit',   workoutName: 'Fortis Triad',   confidence: 0.9999999999999999,   validationFlags: [],   normalizationSummary: 'Normalization PASSED (confidence: 0.80)',   pineconeStored: true,   pineconeRecordId: 'workout_63gocaz-j-AYRsb0094ik_1764194085568_s3s1ai7mi',   templateLinked: false }|
| 1764194141270 | 2025-11-26T21:55:41.270Z a96c3c29-c519-48b0-9e1b-fe987c2721f0 INFO üíì Heartbeat stopped for Workout Extraction: 8 beats (80s total)|
| 1764194141273 | END RequestId: a96c3c29-c519-48b0-9e1b-fe987c2721f0|
| 1764194141273 | REPORT RequestId: a96c3c29-c519-48b0-9e1b-fe987c2721f0 Duration: 81829.81 ms Billed Duration: 82321 ms Memory Size: 2048 MB Max Memory Used: 128 MB Init Duration: 491.13 ms|
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------