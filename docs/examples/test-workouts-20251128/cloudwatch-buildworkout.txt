--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
|   timestamp   |message|
|---------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 1764357979225 | INIT_START Runtime Version: nodejs:22.v68 Runtime Version ARN: arn:aws:lambda:us-west-2::runtime:685b5bdd1a5972cbde591187200f592fbd417cd448d71e500b10e41759692493|
| 1764357979672 | 2025-11-28T19:26:19.672Z undefined INFO üîß PINECONE_API_KEY validation: {   exists: true,   length: 75,   isPlaceholder: false,   prefix: 'pcsk_4tHp6N_' }|
| 1764357979715 | START RequestId: 70d0b639-8f9a-4631-976a-a7f0768cd785 Version: $LATEST|
| 1764357979717 | 2025-11-28T19:26:19.717Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO üíì Starting heartbeat monitoring for: Workout Extraction (10s interval)|
| 1764357979718 | 2025-11-28T19:26:19.718Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO üèãÔ∏è Starting workout extraction: {   userId: '63gocaz-j-AYRsb0094ik',   coachId: 'user_63gocaz-j-AYRsb0094ik_coach_1756078034317',   conversationId: 'conv_1763761119267_ek3vk5fw0',   messageLength: 284,   coachName: 'Victoria The Masters Champion',   detectionType: 'natural_language',   slashCommand: null,   hasImages: false,   imageCount: 0,   timestamp: '2025-11-28T19:26:19.718Z' }|
| 1764357979748 | 2025-11-28T19:26:19.748Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO Generated extraction prompt: {   promptLength: 24759,   userMessage: 'I want to log a workout that I completed last night. I did a run for 2.5 miles with a 20# vest on. The run was 25 minutes total and I did it as one continuous effort. I ran outdoors around a route by my house. My intensity was 6, rpe was 6. I got about 6 hours sleep the night before.' }|
| 1764357979748 | 2025-11-28T19:26:19.748Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO Calling Claude for workout extraction..|
| 1764357979749 | 2025-11-28T19:26:19.749Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO Workout complexity analysis: {   phaseMatches: 0,   complexMatches: 0,   contentLength: 284,   isComplex: false }|
| 1764357979749 | 2025-11-28T19:26:19.749Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO Extraction configuration: { isComplexWorkout: false, enableThinking: false, workoutLength: 284 }|
| 1764357979749 | 2025-11-28T19:26:19.749Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO üéØ Attempting tool-based workout extraction|
| 1764357979750 | 2025-11-28T19:26:19.750Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO === BEDROCK API CALL START ===|
| 1764357979750 | 2025-11-28T19:26:19.750Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO AWS Region: us-west-2|
| 1764357979750 | 2025-11-28T19:26:19.750Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO Model ID: us.anthropic.claude-sonnet-4-5-20250929-v1:0|
| 1764357979750 | 2025-11-28T19:26:19.750Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO System prompt length: 24759|
| 1764357979750 | 2025-11-28T19:26:19.750Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO User message length: 284|
| 1764357979750 | 2025-11-28T19:26:19.750Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO Thinking enabled: false|
| 1764357979750 | 2025-11-28T19:26:19.750Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO Bedrock client config: { region: 'us-west-2' }|
| 1764357979750 | 2025-11-28T19:26:19.750Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO Environment variables: {   AWS_REGION: 'us-west-2',   AWS_DEFAULT_REGION: 'us-west-2',   AWS_LAMBDA_FUNCTION_NAME: 'amplify-neonpandaprotov1--buildworkoutlambda23D1E4-KFUp94ybUR20' }|
| 1764357979751 | 2025-11-28T19:26:19.751Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO Converse command created successfully..|
| 1764357979751 | 2025-11-28T19:26:19.751Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO About to call bedrockClient.send()...|
| 1764357979751 | 2025-11-28T19:26:19.751Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO Starting Bedrock API call with 60s timeout..|
| 1764357984756 | 2025-11-28T19:26:24.756Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO HEARTBEAT: Lambda still running, waiting for Bedrock response..|
| 1764357989719 | 2025-11-28T19:26:29.719Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO üíì Heartbeat #1: Workout Extraction in progress (10s elapsed)|
| 1764357989757 | 2025-11-28T19:26:29.757Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO HEARTBEAT: Lambda still running, waiting for Bedrock response..|
| 1764357993129 | 2025-11-28T19:26:33.129Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO bedrockClient.send() completed successfully|
| 1764357993129 | 2025-11-28T19:26:33.129Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO Response received from Bedrock|
| 1764357993129 | 2025-11-28T19:26:33.129Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO Response metadata: {   httpStatusCode: 200,   requestId: '78a48973-f552-48bd-adfc-bd3f9235e176',   extendedRequestId: undefined,   cfId: undefined,   attempts: 1,   totalRetryDelay: 0 }|
| 1764357993129 | 2025-11-28T19:26:33.129Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO Response structure: {   hasOutput: true,   hasMessage: true,   hasContent: true,   contentLength: 2,   hasText: true,   textType: 'string',   contentFirstItem: {text: "I'll log your weighted vest run from last night. Let me structure this workout data for you."   } }|
| 1764357993130 | 2025-11-28T19:26:33.130Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO üîß Tool use requested, extracting tool result|
| 1764357993130 | 2025-11-28T19:26:33.130Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO ‚úÖ Tool-based extraction succeeded|
| 1764357993223 | 2025-11-28T19:26:33.223Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO Successfully stored debug data in S3: {   bucket: 'midgard-sandbox-logs',   key: 'sandbox-abb89311/workout-extraction/2025-11-28T19-26-33-130Z_63gocaz-j-AYRsb0094ik_workout-extraction-tool-success.txt',   contentLength: 1984,   metadataKeys: ['type','method','userId','conversationId','coachId','discipline','isComplexWorkout','enableThinking'   ] }|
| 1764357993223 | 2025-11-28T19:26:33.223Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO Extraction completed: {   method: 'tool',   workoutId: 'workout_63gocaz-j-AYRsb0094ik_1764357993130_pir1ieo9j',   discipline: 'running',   workoutName: 'Fortis Cursus' }|
| 1764357993223 | 2025-11-28T19:26:33.223Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO Parsed workout data structure: {   basicInfo: {workoutId: 'workout_63gocaz-j-AYRsb0094ik_1764357993130_pir1ieo9j',discipline: 'running',workoutName: 'Fortis Cursus',workoutType: 'cardio',duration: 1500,location: 'outdoors'   },   performanceMetrics: 'Present',   disciplineSpecific: [ 'running' ],   crossfitData: 'Missing',   metadataCompleteness: undefined,   validationFlags: 0 }|
| 1764357993224 | 2025-11-28T19:26:33.224Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO üîç Normalization decision analysis: {   hasCorrectStructure: true,   extractionConfidence: 0.8999999999999999,   isComplex: false,   workoutId: 'workout_63gocaz-j-AYRsb0094ik_1764357993130_pir1ieo9j',   discipline: 'running' }|
| 1764357993224 | 2025-11-28T19:26:33.224Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO ‚úÖ Skipping normalization: correct structure + high confidence + simple workout|
| 1764357993224 | 2025-11-28T19:26:33.224Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO ‚è© Skipping normalization: { reason: 'no_structural_issues', confidence: 0.8999999999999999 }|
| 1764357993224 | 2025-11-28T19:26:33.224Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO Classifying discipline as qualitative/quantitative: { discipline: 'running', hasWorkoutContext: true }|
| 1764357993224 | 2025-11-28T19:26:33.224Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO === BEDROCK API CALL START ===|
| 1764357993225 | 2025-11-28T19:26:33.225Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO AWS Region: us-west-2|
| 1764357993225 | 2025-11-28T19:26:33.225Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO Model ID: us.anthropic.claude-haiku-4-5-20251001-v1:0|
| 1764357993225 | 2025-11-28T19:26:33.225Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO System prompt length: 2800|
| 1764357993225 | 2025-11-28T19:26:33.225Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO User message length: 7|
| 1764357993225 | 2025-11-28T19:26:33.225Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO Thinking enabled: false|
| 1764357993225 | 2025-11-28T19:26:33.225Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO Bedrock client config: { region: 'us-west-2' }|
| 1764357993225 | 2025-11-28T19:26:33.225Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO Environment variables: {   AWS_REGION: 'us-west-2',   AWS_DEFAULT_REGION: 'us-west-2',   AWS_LAMBDA_FUNCTION_NAME: 'amplify-neonpandaprotov1--buildworkoutlambda23D1E4-KFUp94ybUR20' }|
| 1764357993225 | 2025-11-28T19:26:33.225Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO Converse command created successfully..|
| 1764357993225 | 2025-11-28T19:26:33.225Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO About to call bedrockClient.send()...|
| 1764357993225 | 2025-11-28T19:26:33.225Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO Starting Bedrock API call with 60s timeout..|
| 1764357995218 | 2025-11-28T19:26:35.218Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO bedrockClient.send() completed successfully|
| 1764357995218 | 2025-11-28T19:26:35.218Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO Response received from Bedrock|
| 1764357995218 | 2025-11-28T19:26:35.218Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO Response metadata: {   httpStatusCode: 200,   requestId: 'd644f538-e013-4535-a0b8-66d2e3713a05',   extendedRequestId: undefined,   cfId: undefined,   attempts: 1,   totalRetryDelay: 0 }|
| 1764357995218 | 2025-11-28T19:26:35.218Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO Response structure: {   hasOutput: true,   hasMessage: true,   hasContent: true,   contentLength: 1,   hasText: true,   textType: 'string',   contentFirstItem: {text: '```json\n' +'{\n' +'  "isQualitative": true,\n' +'  "requiresPreciseMetrics": false,\n' +'  "environment": "outdoor",\n' +'  "primaryFocus": "endurance",\n' +'  "confidence": 0.85,\n' +'  "reasoning": "Running is a qualitative discipline that prioritizes time, effort, and experience over exact metrics. The outdoor location and 25-minute duration (1500 seconds) suggest endurance-focused cardio work rather than track sprinting. While running can be tracked with precise data, the discipline itself remains valuable without it."\n' +'}\n' +'```'   } }|
| 1764357995218 | 2025-11-28T19:26:35.218Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO Successfully extracted response text, length: 500|
| 1764357995218 | 2025-11-28T19:26:35.218Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO === BEDROCK API CALL SUCCESS ===|
| 1764357995246 | 2025-11-28T19:26:35.246Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO Successfully stored debug data in S3: {   bucket: 'midgard-sandbox-logs',   key: 'sandbox-abb89311/workout-discipline/2025-11-28T19-26-35-218Z_unknown_discipline-classification-prompt.txt',   contentLength: 2800,   metadataKeys: ['discipline','hasWorkoutContext','workoutName','workoutType','promptLength','type'   ] }|
| 1764357995269 | 2025-11-28T19:26:35.269Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO Successfully stored debug data in S3: {   bucket: 'midgard-sandbox-logs',   key: 'sandbox-abb89311/workout-discipline/2025-11-28T19-26-35-246Z_unknown_discipline-classification-response.txt',   contentLength: 500,   metadataKeys: [ 'discipline', 'responseLength', 'type' ] }|
| 1764357995269 | 2025-11-28T19:26:35.269Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO ‚úÖ Stored discipline classification prompt + response in S3|
| 1764357995269 | 2025-11-28T19:26:35.269Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO ‚úÖ Stripped non-JSON text from response {   originalLength: 500,   extractedLength: 488,   removedPrefix: true,   removedSuffix: true }|
| 1764357995270 | 2025-11-28T19:26:35.270Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO AI discipline classification result: {   discipline: 'running',   isQualitative: true,   requiresPreciseMetrics: false,   environment: 'outdoor',   primaryFocus: 'endurance',   confidence: 0.85,   reasoning: 'Running is a qualitative discipline that prioritizes time, effort, and experience over exact metrics. The outdoor location and 25-minute duration (1500 seconds) suggest endurance-focused cardio work rather than track sprinting. While running can be tracked with precise data, the discipline itself remains valuable without it.' }|
| 1764357995271 | 2025-11-28T19:26:35.271Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO Extracting workout completion time using Nova Micro: {   userMessage: 'I want to log a workout that I completed last night. I did a run for 2.5 miles with a 20# vest on. T',   messageTimestamp: '2025-11-28T19:26:35.270Z',   currentTime: '2025-11-28T19:26:35.271Z',   timeSinceMessage: '0s' }|
| 1764357995271 | 2025-11-28T19:26:35.271Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO === BEDROCK API CALL START ===|
| 1764357995271 | 2025-11-28T19:26:35.271Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO AWS Region: us-west-2|
| 1764357995271 | 2025-11-28T19:26:35.271Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO Model ID: us.anthropic.claude-haiku-4-5-20251001-v1:0|
| 1764357995271 | 2025-11-28T19:26:35.271Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO System prompt length: 4415|
| 1764357995271 | 2025-11-28T19:26:35.271Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO User message length: 284|
| 1764357995271 | 2025-11-28T19:26:35.271Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO Thinking enabled: false|
| 1764357995271 | 2025-11-28T19:26:35.271Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO Bedrock client config: { region: 'us-west-2' }|
| 1764357995271 | 2025-11-28T19:26:35.271Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO Environment variables: {   AWS_REGION: 'us-west-2',   AWS_DEFAULT_REGION: 'us-west-2',   AWS_LAMBDA_FUNCTION_NAME: 'amplify-neonpandaprotov1--buildworkoutlambda23D1E4-KFUp94ybUR20' }|
| 1764357995271 | 2025-11-28T19:26:35.271Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO üéØ Response prefilling enabled: {|
| 1764357995271 | 2025-11-28T19:26:35.271Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO Converse command created successfully..|
| 1764357995271 | 2025-11-28T19:26:35.271Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO About to call bedrockClient.send()...|
| 1764357995271 | 2025-11-28T19:26:35.271Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO Starting Bedrock API call with 60s timeout..|
| 1764357999116 | 2025-11-28T19:26:39.116Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO bedrockClient.send() completed successfully|
| 1764357999116 | 2025-11-28T19:26:39.116Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO Response received from Bedrock|
| 1764357999116 | 2025-11-28T19:26:39.116Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO Response metadata: {   httpStatusCode: 200,   requestId: '904ea9d2-054f-479b-be81-4c8f614b59fa',   extendedRequestId: undefined,   cfId: undefined,   attempts: 1,   totalRetryDelay: 0 }|
| 1764357999116 | 2025-11-28T19:26:39.116Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO Response structure: {   hasOutput: true,   hasMessage: true,   hasContent: true,   contentLength: 1,   hasText: true,   textType: 'string',   contentFirstItem: {text: '\n' +'  "completedAt": "2025-11-27T23:00:00.000Z",\n' +'  "confidence": 0.75,\n' +`  "reasoning": "User said 'last night' relative to message typed at 2025-11-28T19:26:35 Pacific time (11:26 AM). Last night refers to the evening of 2025-11-27. Estimated evening time as 11 PM local (2 AM UTC next day would be too late), so approximately 11 PM PT on 2025-11-27 converts to 2025-11-28T06:00:00Z. Adjusted to typical evening workout time of ~11 PM PT = 2025-11-28T07:00:00Z. Reconsidering: 'last night' from 11:26 AM Friday = Thursday evening. Thursday 2025-11-27 at 11 PM PT = 2025-11-28T06:00:00Z. Using 11 PM PT evening estimate: 2025-11-27T23:00:00 PT = 2025-11-28T07:00:00Z. Final: assuming typical evening workout around 11 PM PT on 2025-11-27 = 2025-11-28T07:00:00Z, but reconverted properly to 2025-11-27T23:00:00 local = 2025-11-28T07:00:00Z UTC. Confidence reduced due to lack of specific time."\n` +'}'   } }|
| 1764357999117 | 2025-11-28T19:26:39.117Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO üéØ Prepended prefill text to response: { prefillText: '{', originalLength: 890, newLength: 891 }|
| 1764357999117 | 2025-11-28T19:26:39.117Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO Successfully extracted response text, length: 891|
| 1764357999117 | 2025-11-28T19:26:39.117Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO === BEDROCK API CALL SUCCESS ===|
| 1764357999117 | 2025-11-28T19:26:39.117Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO AI time extraction result: {   userMessage: 'I want to log a workout that I completed last night. I did a run for 2.5 miles with a 20# vest on. T',   extractedTime: '2025-11-27T23:00:00.000Z',   confidence: 0.75,   reasoning: "User said 'last night' relative to message typed at 2025-11-28T19:26:35 Pacific time (11:26 AM). Last night refers to the evening of 2025-11-27. Estimated evening time as 11 PM local (2 AM UTC next day would be too late), so approximately 11 PM PT on 2025-11-27 converts to 2025-11-28T06:00:00Z. Adjusted to typical evening workout time of ~11 PM PT = 2025-11-28T07:00:00Z. Reconsidering: 'last night' from 11:26 AM Friday = Thursday evening. Thursday 2025-11-27 at 11 PM PT = 2025-11-28T06:00:00Z. Using 11 PM PT evening estimate: 2025-11-27T23:00:00 PT = 2025-11-28T07:00:00Z. Final: assuming typical evening workout around 11 PM PT on 2025-11-27 = 2025-11-28T07:00:00Z, but reconverted properly to 2025-11-27T23:00:00 local = 2025-11-28T07:00:00Z UTC. Confidence reduced due to lack of specific time." }|
| 1764357999117 | 2025-11-28T19:26:39.117Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO Workout timing analysis: {   userMessage: 'I want to log a workout that I completed last night. I did a run for 2.5 miles with a 20# vest on. T',   userTimezone: 'America/Los_Angeles',   extractedTime: '2025-11-27T23:00:00.000Z',   finalCompletedAt: '2025-11-27T23:00:00.000Z',   workoutDate: '2025-11-27',   currentTime: '2025-11-28T19:26:39.117Z',   isToday: false,   daysDifference: 0 }|
| 1764357999117 | 2025-11-28T19:26:39.117Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO Generating workout summary..|
| 1764357999117 | 2025-11-28T19:26:39.117Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO === BEDROCK API CALL START ===|
| 1764357999118 | 2025-11-28T19:26:39.118Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO AWS Region: us-west-2|
| 1764357999118 | 2025-11-28T19:26:39.118Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO Model ID: us.anthropic.claude-sonnet-4-5-20250929-v1:0|
| 1764357999118 | 2025-11-28T19:26:39.118Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO System prompt length: 3363|
| 1764357999118 | 2025-11-28T19:26:39.118Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO User message length: 284|
| 1764357999118 | 2025-11-28T19:26:39.118Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO Thinking enabled: false|
| 1764357999118 | 2025-11-28T19:26:39.118Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO Bedrock client config: { region: 'us-west-2' }|
| 1764357999118 | 2025-11-28T19:26:39.118Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO Environment variables: {   AWS_REGION: 'us-west-2',   AWS_DEFAULT_REGION: 'us-west-2',   AWS_LAMBDA_FUNCTION_NAME: 'amplify-neonpandaprotov1--buildworkoutlambda23D1E4-KFUp94ybUR20' }|
| 1764357999118 | 2025-11-28T19:26:39.118Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO Converse command created successfully..|
| 1764357999118 | 2025-11-28T19:26:39.118Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO About to call bedrockClient.send()...|
| 1764357999118 | 2025-11-28T19:26:39.118Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO Starting Bedrock API call with 60s timeout..|
| 1764357999720 | 2025-11-28T19:26:39.720Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO üíì Heartbeat #2: Workout Extraction in progress (20s elapsed)|
| 1764358002388 | 2025-11-28T19:26:42.388Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO bedrockClient.send() completed successfully|
| 1764358002389 | 2025-11-28T19:26:42.389Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO Response received from Bedrock|
| 1764358002389 | 2025-11-28T19:26:42.389Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO Response metadata: {   httpStatusCode: 200,   requestId: '0ccc1e23-4e0c-4984-8069-33cff7694be1',   extendedRequestId: undefined,   cfId: undefined,   attempts: 1,   totalRetryDelay: 0 }|
| 1764358002389 | 2025-11-28T19:26:42.389Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO Response structure: {   hasOutput: true,   hasMessage: true,   hasContent: true,   contentLength: 1,   hasText: true,   textType: 'string',   contentFirstItem: {text: 'Completed Fortis Cursus - a 2.5 mile outdoor run with a 20# weighted vest in 25 minutes (10:00/mile pace). Maintained continuous effort throughout the loop route around home at moderate intensity (6/10 RPE), demonstrating solid aerobic capacity under load.'   } }|
| 1764358002389 | 2025-11-28T19:26:42.389Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO Successfully extracted response text, length: 256|
| 1764358002389 | 2025-11-28T19:26:42.389Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO === BEDROCK API CALL SUCCESS ===|
| 1764358002389 | 2025-11-28T19:26:42.389Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO Generated summary: {   summary: 'Completed Fortis Cursus - a 2.5 mile outdoor run with a 20# weighted vest in 25 minutes (10:00/mile pace). Maintained continuous effort throughout the loop route around home at moderate intensity (6/10 RPE), demonstrating solid aerobic capacity under load.',   length: 256 }|
| 1764358002389 | 2025-11-28T19:26:42.389Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO Saving workout to DynamoDB.. {   workoutId: 'workout_63gocaz-j-AYRsb0094ik_1764357993130_pir1ieo9j',   discipline: 'running',   workoutName: 'Fortis Cursus',   confidence: 0.8999999999999999,   completeness: 0.625,   detectionType: 'natural_language',   slashCommand: null,   normalizationSummary: 'Normalization skipped' }|
| 1764358002389 | 2025-11-28T19:26:42.389Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO Complete workout data being saved: {   workout: {workoutId: 'workout_63gocaz-j-AYRsb0094ik_1764357993130_pir1ieo9j',userId: '63gocaz-j-AYRsb0094ik',conversationId: 'conv_1763761119267_ek3vk5fw0',completedAt: 2025-11-27T23:00:00.000Z,extractionMetadata: {confidence: 0.8999999999999999,extractedAt: 2025-11-28T19:26:42.389Z,reviewedBy: 'system',reviewedAt: 2025-11-28T19:26:42.389Z,normalizationSummary: 'Normalization skipped'}   },   workoutData: {date: '2025-11-27',discipline: 'running',workout_type: 'cardio',workout_name: 'Fortis Cursus',location: 'outdoors',duration: 1500,user_id: '63gocaz-j-AYRsb0094ik',workout_id: 'workout_63gocaz-j-AYRsb0094ik_1764357993130_pir1ieo9j',discipline_specific: { running: [Object] },performance_metrics: { intensity: 6, perceived_exertion: 6 },recovery_metrics: { sleep_hours: 6 },subjective_feedback: {notes: '2.5 mile run with 20# weighted vest, continuous effort around home route'},metadata: {logged_via: 'conversation',data_confidence: 0.8999999999999999,ai_extracted: true,user_verified: false,version: '1.0',schema_version: '2.0',extraction_method: 'claude_conversation_analysis',generation_method: 'tool',generation_timestamp: '2025-11-28T19:26:33.223Z',validation_flags: [],extraction_notes: "User provided clear workout details: 2.5 miles in 25 minutes (10:00/mile pace) with 20# vest, outdoors on home route. Intensity and RPE both at 6/10. Sleep data: 6 hours previous night. High confidence extraction with all key metrics explicitly stated. Workout completed 'last night' interpreted as November 27, 2025.",data_completeness: 0.625},discipline_specific_summary: { disciplines: [Array], crossfit_details: null }   } }  |
| 1764358002390 | 2025-11-28T19:26:42.390Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO üîÑ Attempting Save workout to DynamoDB (attempt 1/6)|
| 1764358002454 | 2025-11-28T19:26:42.454Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO Workout saved successfully: {   workoutId: 'workout_63gocaz-j-AYRsb0094ik_1764357993130_pir1ieo9j',   userId: '63gocaz-j-AYRsb0094ik',   discipline: 'running',   completedAt: 2025-11-27T23:00:00.000Z,   groupId: 'none',   templateId: 'none' }|
| 1764358002454 | 2025-11-28T19:26:42.454Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO üìù Storing workout summary in Pinecone..|
| 1764358002457 | 2025-11-28T19:26:42.457Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO üßπ Sanitized Pinecone metadata: {   originalKeys: 24,   sanitizedKeys: 24,   recordId: 'workout_63gocaz-j-AYRsb0094ik_1764357993130_pir1ieo9j' }|
| 1764358004129 | 2025-11-28T19:26:44.129Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO Successfully stored context in Pinecone: {   indexName: 'coach-creator-proto-v1-dev',   namespace: 'user_63gocaz-j-AYRsb0094ik',   recordId: 'workout_63gocaz-j-AYRsb0094ik_1764357993130_pir1ieo9j',   userId: '63gocaz-j-AYRsb0094ik',   contentLength: 256 }|
| 1764358004129 | 2025-11-28T19:26:44.129Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO ‚úÖ Successfully stored workout summary in Pinecone: {   workoutId: 'workout_63gocaz-j-AYRsb0094ik_1764357993130_pir1ieo9j',   recordId: 'workout_63gocaz-j-AYRsb0094ik_1764357993130_pir1ieo9j',   namespace: 'user_63gocaz-j-AYRsb0094ik',   discipline: 'running',   summaryLength: 256 }|
| 1764358004129 | 2025-11-28T19:26:44.129Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO ‚úÖ Workout extraction completed successfully: {   workoutId: 'workout_63gocaz-j-AYRsb0094ik_1764357993130_pir1ieo9j',   discipline: 'running',   workoutName: 'Fortis Cursus',   confidence: 0.8999999999999999,   validationFlags: [],   normalizationSummary: 'Normalization skipped',   pineconeStored: true,   pineconeRecordId: 'workout_63gocaz-j-AYRsb0094ik_1764357993130_pir1ieo9j',   templateLinked: false }|
| 1764358004130 | 2025-11-28T19:26:44.130Z 70d0b639-8f9a-4631-976a-a7f0768cd785 INFO üíì Heartbeat stopped for Workout Extraction: 2 beats (20s total)|
| 1764358004132 | END RequestId: 70d0b639-8f9a-4631-976a-a7f0768cd785|
| 1764358004132 | REPORT RequestId: 70d0b639-8f9a-4631-976a-a7f0768cd785 Duration: 24416.96 ms Billed Duration: 24904 ms Memory Size: 2048 MB Max Memory Used: 121 MB Init Duration: 486.27 ms|
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------