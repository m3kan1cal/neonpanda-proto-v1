-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
|   timestamp   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                  message                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
|---------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 1762746501101 | INIT_START Runtime Version: nodejs:20.v82 Runtime Version ARN: arn:aws:lambda:us-west-2::runtime:dd206d5c0479b082438417cc6b87731a870d3c7d4c6f2375bbacade0b935398d                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| 1762746501668 | 2025-11-10T03:48:21.668Z undefined INFO üîß PINECONE_API_KEY validation: {   exists: true,   length: 75,   isPlaceholder: false,   prefix: 'pcsk_4tHp6N_' }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| 1762746501738 | START RequestId: 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 Version: $LATEST                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| 1762746501741 | 2025-11-10T03:48:21.741Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO üèãÔ∏è Starting training program generation: {   userId: '8aRtnBukPk0nY4VjKM-K5',   coachId: 'user_8aRtnBukPk0nY4VjKM-K5_coach_1756078034317',   conversationId: 'conv_1762731136414_7daqido2i',   messageCount: 16,   coachName: 'Victoria_The_Masters_Champion',   timestamp: '2025-11-10T03:48:21.741Z' }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| 1762746501741 | 2025-11-10T03:48:21.741Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO Calling AI to generate training program from conversation...                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| 1762746501742 | 2025-11-10T03:48:21.742Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO üöÄ Starting AI training program generation... {   userId: '8aRtnBukPk0nY4VjKM-K5',   coachId: 'user_8aRtnBukPk0nY4VjKM-K5_coach_1756078034317',   conversationId: 'conv_1762731136414_7daqido2i',   messageCount: 16 }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| 1762746501742 | 2025-11-10T03:48:21.742Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO üîÑ Attempting Load coachConfig from DynamoDB (attempt 1/6)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| 1762746501746 | 2025-11-10T03:48:21.746Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO üîÑ Attempting Load user from DynamoDB (attempt 1/6)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| 1762746501848 | 2025-11-10T03:48:21.848Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO user data loaded from DynamoDB successfully                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| 1762746501850 | 2025-11-10T03:48:21.850Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO coachConfig data loaded from DynamoDB successfully                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| 1762746501851 | 2025-11-10T03:48:21.851Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO üîß DEBUG: Pinecone configuration: {   indexName: 'coach-creator-proto-v1-dev',   apiKeySet: true,   apiKeyLength: 75,   apiKeyPrefix: 'pcsk_4tHp6N_',   apiKeyIsPlaceholder: false,   environment: 'unknown',   envPineconeKey: 'SET',   envPineconeKeyLength: 75 }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| 1762746501854 | 2025-11-10T03:48:21.854Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO üîß About to query Pinecone: {   namespace: 'user_8aRtnBukPk0nY4VjKM-K5',   userId: '8aRtnBukPk0nY4VjKM-K5',   indexName: 'coach-creator-proto-v1-dev',   rerankingEnabled: true,   finalTopK: 10 }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| 1762746501854 | 2025-11-10T03:48:21.854Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO Querying user namespace: {   indexName: 'coach-creator-proto-v1-dev',   namespace: 'user_8aRtnBukPk0nY4VjKM-K5',   userId: '8aRtnBukPk0nY4VjKM-K5',   userMessageLength: 2703,   topK: 30,   recordTypes: [     'workout_summary',     'coach_creator_summary',     'conversation_summary'   ] }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| 1762746501886 | 2025-11-10T03:48:21.886Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO üîç Querying methodology namespace: {   userMessage: "I'll remember this.\n" +     '\n' +     "I'll remember this.\n" +     '\n' +     "I'll remember this.\n" +     '\n' +     "**That's solid.** Six hours of actual",   topK: 30,   namespace: 'methodology' }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| 1762746502998 | 2025-11-10T03:48:22.998Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO ‚úÖ User namespace query successful: { matches: 30 }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| 1762746504667 | 2025-11-10T03:48:24.667Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO ‚úÖ Methodology query successful: { originalHits: 30, matches: 30 }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 1762746504667 | 2025-11-10T03:48:24.667Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO üîç Retrieved initial Pinecone matches: {   userMatches: 30,   methodologyMatches: 30,   totalMatches: 60,   queryTopK: 30,   willRerank: true }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| 1762746504667 | 2025-11-10T03:48:24.667Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO Processing Pinecone results: {   totalMatches: 60,   targetTopK: 10,   minScore: 0.7,   rerankingEnabled: true,   hasQuery: true }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| 1762746504668 | 2025-11-10T03:48:24.668Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO üîÑ Applying reranking: { originalCount: 60, rerankingCount: 30, targetFinalCount: 8 }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| 1762746504668 | 2025-11-10T03:48:24.668Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO üîß DEBUG: Pinecone configuration: {   indexName: 'coach-creator-proto-v1-dev',   apiKeySet: true,   apiKeyLength: 75,   apiKeyPrefix: 'pcsk_4tHp6N_',   apiKeyIsPlaceholder: false,   environment: 'unknown',   envPineconeKey: 'SET',   envPineconeKeyLength: 75 }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| 1762746504668 | 2025-11-10T03:48:24.668Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO üîÑ Starting reranking process: {   originalMatches: 30,   documentsExtracted: 30,   queryLength: 2703,   targetTopN: 8,   model: 'pinecone-rerank-v0',   firstMatchFields: [     {       index: 0,       id: 'conversation_summary_8aRtnBukPk0nY4VjKM-K5_1762733568443_yj3g35dya',       hasText: true,       hasContent: true,       hasMetadataText: true,       hasMetadataContent: false,       textLength: 10815,       contentLength: 10815,       metadataTextLength: 10815,       documentLength: 10815     },     {       index: 1,       id: 'conversation_summary_8aRtnBukPk0nY4VjKM-K5_1762733506005_dofq6hyf2',       hasText: true,       hasContent: true,       hasMetadataText: true,       hasMetadataContent: false,       textLength: 11347,       contentLength: 11347,       metadataTextLength: 11347,       documentLength: 11347     }   ] }  |
| 1762746505814 | 2025-11-10T03:48:25.814Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO ‚úÖ Reranking successful: {   originalCount: 30,   rerankedCount: 8,   avgOriginalScore: 0.6178821101784706,   avgRerankScore: 0.31820109874999997 }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| 1762746505814 | 2025-11-10T03:48:25.814Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO ‚úÖ Successfully processed Pinecone results: {   indexName: 'coach-creator-proto-v1-dev',   userId: '8aRtnBukPk0nY4VjKM-K5',   totalMatches: 60,   processedMatches: 8,   relevantMatches: 5,   finalMinScore: 0.3,   wasReranked: true,   wasNormalized: true,   methodologyMatches: 0,   userMatches: 5 }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| 1762746505815 | 2025-11-10T03:48:25.815Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO ‚úÖ Loaded personalization context: {   coachName: 'Victoria_The_Masters_Champion',   specialty: 'masters_crossfit_competition, heavy_functional_lifting, olympic_lifting_masters, powerlifting_integration, crossfit_strength_development, advanced_periodization, performance_optimization, age_group_excellence, strength_focused_training',   hasUserProfile: true,   hasPineconeContext: true,   hasCriticalDirective: false }                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 1762746505815 | 2025-11-10T03:48:25.815Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO üîç Extracting training program structure from conversation... {   messageCount: 16,   userId: '8aRtnBukPk0nY4VjKM-K5',   coachId: 'user_8aRtnBukPk0nY4VjKM-K5_coach_1756078034317',   staticPromptLength: 48093,   dynamicPromptLength: 19625 }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| 1762746505816 | 2025-11-10T03:48:25.816Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO üî• CACHE OPTIMIZATION: Using static/dynamic prompt structure                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| 1762746505816 | 2025-11-10T03:48:25.816Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO Static prompt size: 46.97 KB                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| 1762746505816 | 2025-11-10T03:48:25.816Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO Dynamic prompt size: 19.17 KB                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| 1762746505816 | 2025-11-10T03:48:25.816Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO === BEDROCK API CALL START ===                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| 1762746505816 | 2025-11-10T03:48:25.816Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO AWS Region: us-west-2                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| 1762746505816 | 2025-11-10T03:48:25.816Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO Model ID: us.anthropic.claude-sonnet-4-5-20250929-v1:0                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| 1762746505816 | 2025-11-10T03:48:25.816Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO System prompt length: 48093                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| 1762746505816 | 2025-11-10T03:48:25.816Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO User message length: 19625                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| 1762746505816 | 2025-11-10T03:48:25.816Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO Thinking enabled: false                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| 1762746505816 | 2025-11-10T03:48:25.816Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO Bedrock client config: { region: 'us-west-2' }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| 1762746505816 | 2025-11-10T03:48:25.816Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO Environment variables: {   AWS_REGION: 'us-west-2',   AWS_DEFAULT_REGION: 'us-west-2',   AWS_LAMBDA_FUNCTION_NAME: 'amplify-d2y0pmelq37lyh-de-buildtrainingprogramlamb-dZpMtBUg6wxl' }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| 1762746505817 | 2025-11-10T03:48:25.817Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO üéØ Response prefilling enabled: {                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 1762746505817 | 2025-11-10T03:48:25.817Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO Converse command created successfully...                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| 1762746505817 | 2025-11-10T03:48:25.817Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO About to call bedrockClient.send()...                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| 1762746505817 | 2025-11-10T03:48:25.817Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO Starting Bedrock API call with 60s timeout...                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| 1762746510818 | 2025-11-10T03:48:30.818Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO HEARTBEAT: Lambda still running, waiting for Bedrock response...                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| 1762746515823 | 2025-11-10T03:48:35.823Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO HEARTBEAT: Lambda still running, waiting for Bedrock response...                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| 1762746520825 | 2025-11-10T03:48:40.825Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO HEARTBEAT: Lambda still running, waiting for Bedrock response...                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| 1762746522443 | 2025-11-10T03:48:42.443Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO bedrockClient.send() completed successfully                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| 1762746522443 | 2025-11-10T03:48:42.443Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO Response received from Bedrock                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| 1762746522443 | 2025-11-10T03:48:42.443Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO Response metadata: {   httpStatusCode: 200,   requestId: '82484947-8a60-4e5c-9870-a7122fa7e422',   extendedRequestId: undefined,   cfId: undefined,   attempts: 1,   totalRetryDelay: 0 }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| 1762746522443 | 2025-11-10T03:48:42.443Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO Response structure: {   hasOutput: true,   hasMessage: true,   hasContent: true,   contentLength: 1,   hasText: true,   textType: 'string' }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| 1762746522443 | 2025-11-10T03:48:42.443Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO üéØ Prepended prefill text to response: { prefillText: '{', originalLength: 3781, newLength: 3782 }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| 1762746522443 | 2025-11-10T03:48:42.443Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO Successfully extracted response text, length: 3782                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| 1762746522443 | 2025-11-10T03:48:42.443Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO === BEDROCK API CALL SUCCESS ===                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| 1762746522444 | 2025-11-10T03:48:42.444Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO ‚úÖ Successfully extracted training program structure: {   name: '14-Week Hybrid Half Marathon & Strength Program',   totalDays: 98,   phaseCount: 3,   equipmentConstraints: [     'Barbell',     'Squat_rack',     'Bench_press',     'Deadlift_platform',     'Dumbbells',     'Kettlebells',     'Pullup_bar',     'Rings',     'Rower',     'Assault_bike',     'Jump_rope',     'Box',     'Sandbag',     'Landmine',     'Trap_bar',     'Hammer_strength_machines',     'Cable_machines',     'Functional_gym_equipment',     'Running_access'   ] }                                                                                                                                                                                                                                                                                                             |
| 1762746522445 | 2025-11-10T03:48:42.445Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO ‚ùå Missing required root properties                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| 1762746522445 | 2025-11-10T03:48:42.445Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO ‚ùå Phase missing workoutTemplates array                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| 1762746522445 | 2025-11-10T03:48:42.445Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO üîß Running normalization on training program data... {   reason: 'structural_check',   confidence: 0.85,   phases: 3,   totalDays: 98 }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| 1762746522445 | 2025-11-10T03:48:42.445Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO üîß Starting training program normalization: {   userId: '8aRtnBukPk0nY4VjKM-K5',   programName: '14-Week Hybrid Half Marathon & Strength Program',   phases: 3,   totalDays: 98 }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 1762746522446 | 2025-11-10T03:48:42.446Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO Program normalization call configuration: {   enableThinking: true,   staticPromptLength: 14152,   dynamicPromptLength: 4020,   phases: 3 }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| 1762746522446 | 2025-11-10T03:48:42.446Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO üî• CACHE OPTIMIZATION: Using static/dynamic prompt structure                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| 1762746522446 | 2025-11-10T03:48:42.446Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO Static prompt size: 13.82 KB                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| 1762746522446 | 2025-11-10T03:48:42.446Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO Dynamic prompt size: 3.93 KB                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| 1762746522446 | 2025-11-10T03:48:42.446Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO === BEDROCK API CALL START ===                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| 1762746522446 | 2025-11-10T03:48:42.446Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO AWS Region: us-west-2                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| 1762746522446 | 2025-11-10T03:48:42.446Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO Model ID: us.anthropic.claude-sonnet-4-5-20250929-v1:0                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| 1762746522446 | 2025-11-10T03:48:42.446Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO System prompt length: 14152                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| 1762746522446 | 2025-11-10T03:48:42.446Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO User message length: 4020                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| 1762746522446 | 2025-11-10T03:48:42.446Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO Thinking enabled: true                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| 1762746522446 | 2025-11-10T03:48:42.446Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO Bedrock client config: { region: 'us-west-2' }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| 1762746522446 | 2025-11-10T03:48:42.446Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO Environment variables: {   AWS_REGION: 'us-west-2',   AWS_DEFAULT_REGION: 'us-west-2',   AWS_LAMBDA_FUNCTION_NAME: 'amplify-d2y0pmelq37lyh-de-buildtrainingprogramlamb-dZpMtBUg6wxl' }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| 1762746522446 | 2025-11-10T03:48:42.446Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO üéØ Response prefilling enabled: {                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 1762746522446 | 2025-11-10T03:48:42.446Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO Converse command created successfully...                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| 1762746522446 | 2025-11-10T03:48:42.446Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO About to call bedrockClient.send()...                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| 1762746522446 | 2025-11-10T03:48:42.446Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO Starting Bedrock API call with 60s timeout...                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| 1762746527451 | 2025-11-10T03:48:47.451Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO HEARTBEAT: Lambda still running, waiting for Bedrock response...                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| 1762746532456 | 2025-11-10T03:48:52.456Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO HEARTBEAT: Lambda still running, waiting for Bedrock response...                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| 1762746537461 | 2025-11-10T03:48:57.461Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO HEARTBEAT: Lambda still running, waiting for Bedrock response...                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| 1762746542466 | 2025-11-10T03:49:02.466Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO HEARTBEAT: Lambda still running, waiting for Bedrock response...                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| 1762746547471 | 2025-11-10T03:49:07.471Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO HEARTBEAT: Lambda still running, waiting for Bedrock response...                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| 1762746552476 | 2025-11-10T03:49:12.476Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO HEARTBEAT: Lambda still running, waiting for Bedrock response...                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| 1762746553864 | 2025-11-10T03:49:13.864Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO bedrockClient.send() completed successfully                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| 1762746553864 | 2025-11-10T03:49:13.864Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO Response received from Bedrock                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| 1762746553864 | 2025-11-10T03:49:13.864Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO Response metadata: {   httpStatusCode: 200,   requestId: '7234f106-042d-4ce0-aa9e-838dd1addd93',   extendedRequestId: undefined,   cfId: undefined,   attempts: 1,   totalRetryDelay: 0 }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| 1762746553864 | 2025-11-10T03:49:13.864Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO Response structure: {   hasOutput: true,   hasMessage: true,   hasContent: true,   contentLength: 1,   hasText: true,   textType: 'string' }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| 1762746553864 | 2025-11-10T03:49:13.864Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO üéØ Prepended prefill text to response: { prefillText: '{', originalLength: 10145, newLength: 10146 }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| 1762746553864 | 2025-11-10T03:49:13.864Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO Successfully extracted response text, length: 10146                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| 1762746553865 | 2025-11-10T03:49:13.865Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO === BEDROCK API CALL SUCCESS ===                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| 1762746553865 | 2025-11-10T03:49:13.865Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO Normalization completed: {   isValid: true,   issuesFound: 9,   correctionsMade: 9,   normalizationConfidence: 0.95,   summary: '‚úÖ Program validated successfully | 9 warnings | 9 issues corrected | confidence: 95%' }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| 1762746553865 | 2025-11-10T03:49:13.865Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO ‚úÖ Using normalized training program data { phaseCount: 3, totalDays: 98, issuesCorrected: 9 }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| 1762746553866 | 2025-11-10T03:49:13.866Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO üèãÔ∏è Generating workout templates for phase... {   phase: 'Block 1: Aerobic Base + Strength Maintenance',   durationDays: 35,   startDay: 1,   staticPromptLength: 56867,   dynamicPromptLength: 2227 }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| 1762746553866 | 2025-11-10T03:49:13.866Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO üî• CACHE OPTIMIZATION: Using static/dynamic prompt structure                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| 1762746553866 | 2025-11-10T03:49:13.866Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO Static prompt size: 55.53 KB                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| 1762746553866 | 2025-11-10T03:49:13.866Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO Dynamic prompt size: 2.17 KB                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| 1762746553866 | 2025-11-10T03:49:13.866Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO === BEDROCK API CALL START ===                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| 1762746553866 | 2025-11-10T03:49:13.866Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO AWS Region: us-west-2                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| 1762746553866 | 2025-11-10T03:49:13.866Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO Model ID: us.anthropic.claude-sonnet-4-5-20250929-v1:0                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| 1762746553866 | 2025-11-10T03:49:13.866Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO System prompt length: 56867                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| 1762746553867 | 2025-11-10T03:49:13.867Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO User message length: 2227                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| 1762746553867 | 2025-11-10T03:49:13.867Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO Thinking enabled: false                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| 1762746553867 | 2025-11-10T03:49:13.867Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO Bedrock client config: { region: 'us-west-2' }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| 1762746553867 | 2025-11-10T03:49:13.867Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO Environment variables: {   AWS_REGION: 'us-west-2',   AWS_DEFAULT_REGION: 'us-west-2',   AWS_LAMBDA_FUNCTION_NAME: 'amplify-d2y0pmelq37lyh-de-buildtrainingprogramlamb-dZpMtBUg6wxl' }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| 1762746553867 | 2025-11-10T03:49:13.867Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO üéØ Response prefilling enabled: [                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 1762746553867 | 2025-11-10T03:49:13.867Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO Converse command created successfully...                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| 1762746553867 | 2025-11-10T03:49:13.867Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO About to call bedrockClient.send()...                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| 1762746553867 | 2025-11-10T03:49:13.867Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO Starting Bedrock API call with 60s timeout...                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| 1762746556130 | 2025-11-10T03:49:16.130Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO bedrockClient.send() completed successfully                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| 1762746556130 | 2025-11-10T03:49:16.130Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO Response received from Bedrock                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| 1762746556130 | 2025-11-10T03:49:16.130Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO Response metadata: {   httpStatusCode: 200,   requestId: 'dd232f19-bdd3-4df8-9878-9ae1fb9fb779',   extendedRequestId: undefined,   cfId: undefined,   attempts: 1,   totalRetryDelay: 0 }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| 1762746556130 | 2025-11-10T03:49:16.130Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO Response structure: {   hasOutput: true,   hasMessage: true,   hasContent: true,   contentLength: 1,   hasText: true,   textType: 'string' }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| 1762746556130 | 2025-11-10T03:49:16.130Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO üéØ Prepended prefill text to response: { prefillText: '[', originalLength: 14, newLength: 15 }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| 1762746556130 | 2025-11-10T03:49:16.130Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO Successfully extracted response text, length: 15                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| 1762746556130 | 2025-11-10T03:49:16.130Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO === BEDROCK API CALL SUCCESS ===                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| 1762746556238 | 2025-11-10T03:49:16.238Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO Successfully stored debug data in S3: {   bucket: 'midgard-sandbox-logs',   key: 'develop/training-program-phase/2025-11-10T03-49-16-131Z_8aRtnBukPk0nY4VjKM-K5_phase-generation-success.txt',   contentLength: 59945,   metadataKeys: [ 'userId', 'phaseIndex', 'phaseName', 'type' ] }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| 1762746556238 | 2025-11-10T03:49:16.238Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 WARN JSON parsing failed, attempting to fix common issues...                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| 1762746556238 | 2025-11-10T03:49:16.238Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO Brace/Bracket count analysis: {   openBraces: 0,   closeBraces: 0,   braceDifference: 0,   openBrackets: 1,   closeBrackets: 1,   bracketDifference: 0 }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| 1762746556238 | 2025-11-10T03:49:16.238Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 ERROR Could not fix malformed JSON after all attempts: SyntaxError: "[object Object]" is not valid JSON     at JSON.parse (<anonymous>)     at fIe (file:///var/task/index.mjs:251:247935)     at pB (file:///var/task/index.mjs:251:249196)     at mUn (file:///var/task/index.mjs:793:1505)     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)     at async c5t (file:///var/task/index.mjs:794:1657)     at async Runtime.ogo [as handler] (file:///var/task/index.mjs:817:269)                                                                                                                                                                                                                                                                                                                                                           |
| 1762746556244 | 2025-11-10T03:49:16.244Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 ERROR ‚ùå Failed to parse workout templates JSON: {   error: Error: Unable to fix malformed JSON: "[object Object]" is not valid JSON       at fIe (file:///var/task/index.mjs:251:248079)       at pB (file:///var/task/index.mjs:251:249196)       at mUn (file:///var/task/index.mjs:793:1505)       at process.processTicksAndRejections (node:internal/process/task_queues:95:5)       at async c5t (file:///var/task/index.mjs:794:1657)       at async Runtime.ogo [as handler] (file:///var/task/index.mjs:817:269),   phase: 'Block 1: Aerobic Base + Strength Maintenance',   responseLength: 15,   responsePreview: '[object Object]',   responseTail: '[object Object]' }                                                                                                                                                                                         |
| 1762746556244 | 2025-11-10T03:49:16.244Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 ERROR ‚ùå Error generating training program: Error: Failed to generate valid workout templates for phase: Block 1: Aerobic Base + Strength Maintenance     at mUn (file:///var/task/index.mjs:793:2309)     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)     at async c5t (file:///var/task/index.mjs:794:1657)     at async Runtime.ogo [as handler] (file:///var/task/index.mjs:817:269)                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| 1762746556244 | 2025-11-10T03:49:16.244Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 ERROR Event data: {   userId: '8aRtnBukPk0nY4VjKM-K5',   coachId: 'user_8aRtnBukPk0nY4VjKM-K5_coach_1756078034317',   conversationId: 'conv_1762731136414_7daqido2i',   messageCount: 16 }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| 1762746556274 | 2025-11-10T03:49:16.274Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO Successfully stored debug data in S3: {   bucket: 'midgard-sandbox-logs',   key: 'develop/training-program-error/2025-11-10T03-49-16-244Z_8aRtnBukPk0nY4VjKM-K5_training-program-generation-error.txt',   contentLength: 1380,   metadataKeys: [ 'userId', 'conversationId', 'type' ] }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| 1762746556274 | 2025-11-10T03:49:16.274Z 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 INFO ‚úÖ Error debug data saved to S3                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| 1762746556276 | END RequestId: 77ea6b7e-7ea5-4511-a6e1-788cbf00d861                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| 1762746556277 | REPORT RequestId: 77ea6b7e-7ea5-4511-a6e1-788cbf00d861 Duration: 54538.18 ms Billed Duration: 55172 ms Memory Size: 2048 MB Max Memory Used: 173 MB Init Duration: 633.49 ms                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------